(function(e){e.fn.contextMenu=function(t,n){function r(r){n.click&&n.click.call(this);if(r.button===2){var i=e("#"+t).show().css({left:r.clientX,top:r.clientY}),s,o=this;function u(e){e.stopPropagation()}function a(){i.unbind("click",u).hide();e(this).unbind("click",a)}i.find("a").click(function(){s=e(this).attr("href");s&&(s=s.substr(1));n[s]&&n[s].call(o);a()});i.click(u);e(document).click(a)}return!1}e(this).live("click",r).live("contextmenu",r)}})(jQuery);