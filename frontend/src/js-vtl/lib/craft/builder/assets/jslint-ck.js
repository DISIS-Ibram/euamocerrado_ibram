// (C)2010 Douglas Crockford
// www.JSLint.com
this.JSON||(this.JSON={});(function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e));typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent;u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]";gap=o;return i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1){r=rep[n];if(typeof r=="string"){i=str(r,a);i&&u.push(quote(r)+(gap?": ":":")+i)}}}else for(r in a)if(Object.hasOwnProperty.call(a,r)){i=str(r,a);i&&u.push(quote(r)+(gap?": ":":")+i)}i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}";gap=o;return i}}if(typeof Date.prototype.toJSON!="function"){Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="";indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")});typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)if(Object.hasOwnProperty.call(i,n)){r=walk(i,n);r!==undefined?i[n]=r:delete i[n]}return reviver.call(e,t,i)}var j;text=String(text);cx.lastIndex=0;cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})})();var JSLINT=function(){"use strict";function gt(){}function yt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bt(e,t){var n;for(n in t)yt(t,n)&&(e[n]=t[n])}function wt(){if(!P.safe){P.rhino&&bt(B,I);P.devel&&bt(B,g);P.browser&&bt(B,a);P.windows&&bt(B,Y);P.widget&&bt(B,G)}}function Et(e,t,n){throw{name:"JSLintError",line:t,character:n,message:e+" ("+Math.floor(t/A.length*100)+"% scanned)."}}function St(e,t,n,r,i,s){var o,u,a;t=t||D;t.id==="(end)"&&(t=J);u=t.line||0;o=t.from||0;a={id:"(error)",raw:e,evidence:A[u-1]||"",line:u,character:o,a:n,b:r,c:i,d:s};a.reason=e.supplant(a);JSLINT.errors.push(a);P.passfail&&Et("Stopping. ",u,o);Q+=1;Q>=P.maxerr&&Et("Too many errors.",u,o);return a}function xt(e,t,n,r,i,s,o){return St(e,{line:t,from:n},r,i,s,o)}function Tt(e,t,n,r,i,s){var o=St(e,t,n,r,i,s);Et("Stopping, unable to continue.",o.line,o.character)}function Nt(e,t,n,r,i,s,o){return Tt(e,{line:t,from:n},r,i,s,o)}function kt(e,t){P.safe&&b["(global)"]&&typeof B[e]!="boolean"?St("ADsafe global: "+e+".",J):e==="hasOwnProperty"&&St("'hasOwnProperty' is a really bad name.");yt(b,e)&&!b["(global)"]&&St(b[e]===!0?"'{a}' was used before it was defined.":"'{a}' is already defined.",D,e);b[e]=t;if(b["(global)"]){S[e]=b;if(yt(N,e)){St("'{a}' was used before it was defined.",D,e);delete N[e]}}else q[e]=b}function Lt(){var e,t,n,r=D.value,i,s;switch(r){case"*/":Tt("Unbegun comment.");break;case"/*members":case"/*member":r="/*members";_||(_={});t=_;break;case"/*jslint":P.safe&&St("ADsafe restriction.");t=P;n=u;break;case"/*global":P.safe&&St("ADsafe restriction.");t=B;break;default:Tt("What?")}i=Ct.token();e:for(;;){for(;;){if(i.type==="special"&&i.value==="*/")break e;if(i.id!==",")break;i=Ct.token()}i.type!=="(string)"&&i.type!=="(identifier)"&&r!=="/*members"&&Tt("Bad option.",i);s=Ct.token();if(s.id===":"){s=Ct.token();t===_&&Tt("Expected '{a}' and instead saw '{b}'.",i,"*/",":");if(i.value==="indent"&&r==="/*jslint"){e=+s.value;(typeof e!="number"||!isFinite(e)||e<=0||Math.floor(e)!==e)&&Tt("Expected a small integer and instead saw '{a}'.",s,s.value);t.white=!0;t.indent=e}else if(i.value==="maxerr"&&r==="/*jslint"){e=+s.value;(typeof e!="number"||!isFinite(e)||e<=0||Math.floor(e)!==e)&&Tt("Expected a small integer and instead saw '{a}'.",s,s.value);t.maxerr=e}else if(i.value==="maxlen"&&r==="/*jslint"){e=+s.value;(typeof e!="number"||!isFinite(e)||e<=0||Math.floor(e)!==e)&&Tt("Expected a small integer and instead saw '{a}'.",s,s.value);t.maxlen=e}else s.value==="true"?t[i.value]=!0:s.value==="false"?t[i.value]=!1:Tt("Bad option value.",s);i=Ct.token()}else{r==="/*jslint"&&Tt("Missing option value.",i);t[i.value]=!1;i=s}}n&&wt()}function At(e){var t=e||0,n=0,r;while(n<=t){r=O[n];r||(r=O[n]=Ct.token());n+=1}return r}function Ot(e,t){switch(J.id){case"(number)":D.id==="."&&St("A dot following a number can be confused with a decimal point.",J);break;case"-":(D.id==="-"||D.id==="--")&&St("Confusing minusses.");break;case"+":(D.id==="+"||D.id==="++")&&St("Confusing plusses.")}if(J.type==="(string)"||J.identifier)r=J.value;e&&D.id!==e&&(t?D.id==="(end)"?St("Unmatched '{a}'.",t,t.id):St("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",D,e,t.id,t.line,D.value):(D.type!=="(identifier)"||D.value!==e)&&St("Expected '{a}' and instead saw '{b}'.",D,e,D.value));F=J;J=D;for(;;){D=O.shift()||Ct.token();if(D.type!=="special")break;Lt()}}function Mt(e,t){e=e||J;t=t||D;t.id!=="(end)"&&(e.line!==t.line||P.white&&e.thru+1!==t.from)&&St("Expected exactly one space between '{a}' and '{b}'.",t,e.value,t.value)}function _t(e,t){e=e||J;t=t||D;t.id!=="(end)"&&P.white&&(J.line!==t.line||J.thru+1!==t.from)&&St("Expected exactly one space between '{a}' and '{b}'.",t,J.value,t.value)}function Dt(e,t){e=e||J;t=t||D;(P.white||Z==="styleproperty"||Z==="style")&&e.thru!==t.from&&e.line===t.line&&St("Unexpected space between '{a}' and '{b}'.",t,e.value,t.value)}function Pt(e,t){e=e||J;t=t||D;t.id!=="(end)"&&(e.line!==t.line||P.white&&e.thru!==t.from)&&St("Unexpected space between '{a}' and '{b}'.",t,e.value,t.value)}function Ht(e,t){if(P.white){e=e||J;t=t||D;e.thru===t.from&&e.line===t.line&&St("Missing space between '{a}' and '{b}'.",t,e.value,t.value)}}function Bt(){Pt();Ot(",");Ht()}function jt(){Pt();Ot(";");switch(D.id){case";":case'"':case"'":case")":break;default:Ht()}}function Ft(){if(D.value==="use strict"){X&&St('Unnecessary "use strict".');Ot();jt();X=!0;P.newcap=!0;P.undef=!0;return!0}return!1}function It(e,t){var n;D.id==="(end)"&&Tt("Unexpected early end of program.",J);Ot();P.safe&&typeof B[J.value]=="boolean"&&D.id!=="("&&D.id!=="."&&St("ADsafe violation.",J);if(t){r="anonymous";b["(verb)"]=J.value}if(t===!0&&J.fud)n=J.fud();else{if(J.nud)n=J.nud();else{if(D.type==="(number)"&&J.id==="."){St("A leading decimal point can be confused with a dot: '.{a}'.",J,D.value);Ot();return J}Tt("Expected an identifier and instead saw '{a}'.",J,J.id)}while(e<D.lbp){Ot();J.led?n=J.led(n):Tt("Expected an operator and instead saw '{a}'.",J,J.id)}}return n}function qt(e,t){var n=V[e];if(!n||typeof n!="object")V[e]=n={id:e,lbp:t,value:e};return n}function Rt(e){return qt(e,0)}function Ut(e){var t=qt(e,0);t.from=0;t.thru=0;e.value=e;return t}function zt(e,t){var n=Rt(e);n.identifier=n.reserved=!0;n.fud=t;return n}function Wt(e,t){var n=zt(e,t);n.disrupt=!0}function Xt(e){var t=e.id.charAt(0);if(t>="a"&&t<="z"||t>="A"&&t<="Z")e.identifier=e.reserved=!0;return e}function Vt(e,t){var n=qt(e,150);Xt(n);n.nud=typeof t=="function"?t:function(){e==="typeof"?_t():Pt();this.first=It(150);this.arity="prefix";if(this.id==="++"||this.id==="--")P.plusplus?St("Unexpected use of '{a}'.",this,this.id):(!this.first.identifier||this.first.reserved)&&this.first.id!=="."&&this.first.id!=="["&&St("Bad operand.",this);return this};return n}function $t(e,t){var n=Rt(e);n.type=e;n.nud=t;return n}function Jt(e,t){var n=$t(e,t);n.identifier=n.reserved=!0;return n}function Kt(e,t){return Jt(e,function(){typeof t=="function"&&t(this);return this})}function Qt(e,t,n,r){var i=qt(e,t);Xt(i);i.led=function(e){this.arity="infix";if(!r){Ht(F,J);Ht()}if(typeof n=="function")return n(e,this);this.first=e;this.second=It(t);return this};return i}function Gt(e,t){var n=Qt(e,100,function(e,n){var r=It(100);t?St("Expected '{a}' and instead saw '{b}'.",n,t,n.id):(e.id==="NaN"||r.id==="NaN")&&St("Use the isNaN function to compare with NaN.",n);e.id==="!"&&St("Confusing use of '{a}'.",e,"!");r.id==="!"&&St("Confusing use of '{a}'.",e,"!");n.first=e;n.second=r;return n});return n}function Yt(e,t){var n=Qt(e,20,function(e,n){var r;P.bitwise&&t&&St("Unexpected use of '{a}'.",n,n.id);n.first=e;B[e.value]===!1&&q[e.value]["(global)"]===!0?St("Read only.",e):e["function"]&&St("'{a}' is a function.",e,e.value);if(P.safe){r=e;do{typeof B[r.value]=="boolean"&&St("ADsafe violation.",r);r=r.first}while(r)}if(e){if(e.id==="."||e.id==="["){(!e.first||e.first.value==="arguments")&&St("Bad assignment.",n);n.second=It(19);return n}if(e.identifier&&!e.reserved){b[e.value]==="exception"&&St("Do not assign to the exception parameter.",e);n.second=It(19);return n}e===V["function"]&&St("Expected an identifier in an assignment and instead saw a function invocation.",J)}Tt("Bad assignment.",n)});n.assign=!0;return n}function Zt(e,t){return Qt(e,t,function(e,n){P.bitwise&&St("Unexpected use of '{a}'.",n,n.id);n.first=e;n.second=It(t);return n})}function en(e,t){var n=qt(e,150);n.led=function(e){Pt(F,J);P.plusplus?St("Unexpected use of '{a}'.",this,this.id):(!e.identifier||e.reserved)&&e.id!=="."&&e.id!=="["&&St("Bad operand.",this);this.first=e;this.arity="suffix";return this};return n}function tn(){if(D.identifier){Ot();P.safe&&o[J.value]?St("ADsafe violation: '{a}'.",J,J.value):J.reserved&&!P.es5&&St("Expected an identifier and instead saw '{a}' (a reserved word).",J,J.id);return J.value}}function nn(){var e=tn();if(e)return e;J.id==="function"&&D.id==="("?St("Missing name in function statement."):Tt("Expected an identifier and instead saw '{a}'.",D,D.value)}function rn(e){var t,n=q,r=D;if(r.id===";"){St("Unnecessary semicolon.",r);Ot(";");return}if(r.identifier&&!r.reserved&&At().id===":"){Ot();Ot(":");q=Object.create(n);kt(r.value,"label");L[D.id]!==!0&&St("Label '{a}' on '{b}' statement.",D,r.value,D.value);lt.test(r.value+":")&&St("Label '{a}' looks like a javascript url.",r,r.value);D.label=r.value;r=D}t=It(0,!0);if(t.arity==="statement")t.id==="switch"||!!t.block&&t.id!=="do"?Ht():jt();else{t.id==="("&&t.first.id==="new"?St("Do not use 'new' for side effects."):!t.assign&&t.id!=="delete"&&t.id!=="++"&&t.id!=="--"&&t.id!=="("&&St("Expected an assignment or function call and instead saw an expression.",J);D.id!==";"?xt("Missing semicolon.",J.line,J.from+J.value.length):jt()}q=n;return t}function sn(n){var r=[],i,s,o,u;if(P.adsafe)switch(n){case"script":t||(D.value!=="ADSAFE"||At(0).id!=="."||At(1).value!=="id"&&At(1).value!=="go")&&Tt("ADsafe violation: Missing ADSAFE.id or ADSAFE.go.",D);if(D.value==="ADSAFE"&&At(0).id==="."&&At(1).value==="id"){t&&Tt("ADsafe violation.",D);Ot("ADSAFE");Ot(".");Ot("id");Ot("(");D.value!==e&&Tt("ADsafe violation: id does not match.",D);Ot("(string)");Ot(")");jt();t=!0}break;case"lib":if(D.value==="ADSAFE"){Ot("ADSAFE");Ot(".");Ot("lib");Ot("(");Ot("(string)");Bt();s=It(0);s.id!=="function"&&Tt("The second argument to lib must be a function.",s);o=s.funct["(params)"];o=o&&o.join(", ");o&&o!=="lib"&&Tt("Expected '{a}' and instead saw '{b}'.",s,"(lib)","("+o+")");Ot(")");jt();return r}Tt("ADsafe lib violation.")}while(H[D.id]!==!0)if(D.id===";"){St("Unnecessary semicolon.");Ot(";")}else{if(i){St("Unreachable '{a}' after '{b}'.",D,D.value,i.value);i=null}u=rn();r.push(u);if(u.disrupt){i=u;r.disrupt=!0}}return r}function on(e){var t,n=C,r=X,i=q,s;C=e;q=Object.create(q);Ht();s=D;if(D.id==="{"){Ot("{");!e&&!Ft()&&!r&&P.strict&&b["(context)"]["(global)"]&&St('Missing "use strict" statement.');t=sn();X=r;Ot("}",s)}else if(!e)Tt("Expected '{a}' and instead saw '{b}'.",D,"{",D.value);else{St("Expected '{a}' and instead saw '{b}'.",D,"{",D.value);t=[rn()];t[0].disrupt&&(t.disrupt=!0)}b["(verb)"]=null;q=i;C=n;e&&t.length===0&&St("Empty block.");return t}function un(e){_&&typeof _[e]!="boolean"&&St("Unexpected /*member '{a}'.",J,e);typeof M[e]=="number"?M[e]+=1:M[e]=1}function an(e){var t=e.value,n=e.line,r=N[t];typeof r=="function"&&(r=!1);if(!r){r=[n];N[t]=r}else r[r.length-1]!==n&&r.push(n)}function fn(){var e=tn(!0);if(!e)if(D.id==="(string)"){e=D.value;P.adsafe&&(e.charAt(0)==="_"||e.charAt(e.length-1)==="_")&&St("Unexpected {a} in '{b}'.",J,"dangling '_'",e);Ot()}else if(D.id==="(number)"){e=D.value.toString();Ot()}return e}function ln(){var e,t=D,n=[];Ot("(");Dt();if(D.id===")"){Dt();Ot(")");return}for(;;){e=nn();n.push(e);kt(e,"parameter");if(D.id!==","){Dt();Ot(")",t);return n}Bt()}}function cn(e,t){var n=q;q=Object.create(n);b={"(name)":t||'"'+r+'"',"(line)":D.line,"(context)":b,"(breakage)":0,"(loopage)":0,"(scope)":q,"(token)":e};J.funct=b;E.push(b);t&&kt(t,"function");e.name=t||"";e.first=b["(params)"]=ln();e.block=on(!1);q=n;b["(last)"]=J.line;b=b["(context)"];return e}function hn(){function e(){var e={},t=D;Ot("{");if(D.id!=="}")for(;;){if(D.id==="(end)")Tt("Missing '}' to match '{' from line {a}.",D,t.line);else{if(D.id==="}"){St("Unexpected comma.",J);break}D.id===","?Tt("Unexpected comma.",D):D.id!=="(string)"&&St("Expected a string and instead saw {a}.",D,D.value)}e[D.value]===!0?St("Duplicate key '{a}'.",D,D.value):D.value==="__proto__"?St("Stupid key '{a}'.",D,D.value):e[D.value]=!0;Ot();Ot(":");hn();if(D.id!==",")break;Ot(",")}Ot("}")}function t(){var e=D;Ot("[");if(D.id!=="]")for(;;){if(D.id==="(end)")Tt("Missing ']' to match '[' from line {a}.",D,e.line);else{if(D.id==="]"){St("Unexpected comma.",J);break}D.id===","&&Tt("Unexpected comma.",D)}hn();if(D.id!==",")break;Ot(",")}Ot("]")}switch(D.id){case"{":e();break;case"[":t();break;case"true":case"false":case"null":case"(number)":case"(string)":Ot();break;case"-":Ot("-");J.thru!==D.from&&St("Unexpected space after '-'.",J);Pt();Ot("(number)");break;default:Tt("Expected a JSON value.",D)}}function pn(){if(D.identifier){Ot();return!0}}function dn(){if(D.id==="-"){Ot("-");Pt()}if(D.type==="(number)"){Ot("(number)");return!0}}function vn(){if(D.type==="(string)"){Ot();return!0}}function mn(){var e,t,n;if(D.identifier){n=D.value;if(n==="rgb"||n==="rgba"){Ot();Ot("(");for(e=0;e<3;e+=1){e&&Bt();t=D.value;if(D.type!=="(number)"||t<0){St("Expected a positive number and instead saw '{a}'",D,t);Ot()}else{Ot();if(D.id==="%"){Ot("%");t>100&&St("Expected a percentage and instead saw '{a}'",J,t)}else t>255&&St("Expected a small number and instead saw '{a}'",J,t)}}if(n==="rgba"){Bt();t=+D.value;(D.type!=="(number)"||t<0||t>1)&&St("Expected a number between 0 and 1 and instead saw '{a}'",D,t);Ot();if(D.id==="%"){St("Unexpected '%'.");Ot("%")}}Ot(")");return!0}if(c[D.value]===!0){Ot();return!0}}else if(D.type==="(color)"){Ot();return!0}return!1}function gn(){if(D.id==="-"){Ot("-");Pt()}if(D.type==="(number)"){Ot();if(D.type!=="(string)"&&d[D.value]===!0){Pt();Ot()}else+J.value!==0&&St("Expected a linear unit and instead saw '{a}'.",D,D.value);return!0}return!1}function yn(){if(D.id==="-"){Ot("-");Pt()}if(D.type==="(number)"){Ot();if(D.type!=="(string)"&&d[D.value]===!0){Pt();Ot()}return!0}return!1}function bn(){if(!D.identifier)return gn();switch(D.value){case"thin":case"medium":case"thick":Ot();return!0}}function wn(){if(!D.identifier)return gn();if(D.value==="auto"){Ot();return!0}}function En(){if(D.identifier&&D.value==="attr"){Ot();Ot("(");D.identifier||St("Expected a name and instead saw '{a}'.",D,D.value);Ot();Ot(")");return!0}return!1}function Sn(){while(D.id!==";"){!pn()&&!vn()&&St("Expected a name and instead saw '{a}'.",D,D.value);if(D.id!==",")return!0;Bt()}}function xn(){if(D.identifier&&D.value==="counter"){Ot();Ot("(");Ot();if(D.id===","){Bt();D.type!=="(string)"&&St("Expected a string and instead saw '{a}'.",D,D.value);Ot()}Ot(")");return!0}if(D.identifier&&D.value==="counters"){Ot();Ot("(");D.identifier||St("Expected a name and instead saw '{a}'.",D,D.value);Ot();if(D.id===","){Bt();D.type!=="(string)"&&St("Expected a string and instead saw '{a}'.",D,D.value);Ot()}if(D.id===","){Bt();D.type!=="(string)"&&St("Expected a string and instead saw '{a}'.",D,D.value);Ot()}Ot(")");return!0}return!1}function Tn(){var e;if(D.identifier&&D.value==="rect"){Ot();Ot("(");for(e=0;e<4;e+=1)if(!gn()){St("Expected a number and instead saw '{a}'.",D,D.value);break}Ot(")");return!0}return!1}function Nn(){var e,t;if(D.identifier&&D.value==="url"){D=Ct.range("(",")");t=D.value;e=t.charAt(0);if(e==='"'||e==="'")if(t.slice(-1)!==e)St("Bad url string.");else{t=t.slice(1,-1);t.indexOf(e)>=0&&St("Bad url string.")}t||St("Missing url.");Ot();P.safe&&ct.test(t)&&Tt("ADsafe URL violation.");K.push(t);return!0}return!1}function Cn(){var e;while(D.id==="*"||D.id==="#"||D.value==="_"){P.css||St("Unexpected '{a}'.",D,D.value);Ot()}if(D.id==="-"){P.css||St("Unexpected '{a}'.",D,D.value);Ot("-");D.identifier||St("Expected a non-standard style attribute and instead saw '{a}'.",D,D.value);Ot();return l}if(!D.identifier)St("Excepted a style attribute, and instead saw '{a}'.",D,D.value);else if(yt(f,D.value))e=f[D.value];else{e=l;P.css||St("Unrecognized style attribute '{a}'.",D,D.value)}Ot();return e}function kn(e){var t=0,n,r,i,s,o=0,u;switch(typeof e){case"function":return e();case"string":if(D.identifier&&D.value===e){Ot();return!0}return!1}for(;;){if(t>=e.length)return!1;u=e[t];t+=1;if(u===!0)break;if(typeof u=="number"){n=u;u=e[t];t+=1}else n=1;i=!1;while(n>0){if(!kn(u))break;i=!0;n-=1}if(i)return!0}o=t;r=[];for(;;){s=!1;for(t=o;t<e.length;t+=1)if(!r[t]&&kn(f[e[t]])){i=!0;s=!0;r[t]=!0;break}if(!s)return i}}function Ln(){if(D.id==="(number)"){Ot();if(D.value==="n"&&D.identifier){Pt();Ot();if(D.id==="+"){Pt();Ot("+");Pt();Ot("(number)")}}return}if(!(!D.identifier||D.value!=="odd"&&D.value!=="even")){Ot();return}St("Unexpected token '{a}'.",D,D.value)}function An(){var e;for(;;){if(D.id==="}"||D.id==="(end)"||et&&D.id===et)return;while(D.id===";"){St("Misplaced ';'.");Ot(";")}e=Cn();Ot(":");if(D.identifier&&D.value==="inherit")Ot();else if(!kn(e)){St("Unexpected token '{a}'.",D,D.value);Ot()}if(D.id==="!"){Ot("!");Pt();D.identifier&&D.value==="important"?Ot():St("Expected '{a}' and instead saw '{b}'.",D,"important",D.value)}D.id==="}"||D.id===et?St("Missing '{a}'.",D,";"):jt()}}function On(){if(D.identifier){yt(x,P.cap?D.value.toLowerCase():D.value)||St("Expected a tagName, and instead saw {a}.",D,D.value);Ot()}else switch(D.id){case">":case"+":Ot();On();break;case":":Ot(":");switch(D.value){case"active":case"after":case"before":case"checked":case"disabled":case"empty":case"enabled":case"first-child":case"first-letter":case"first-line":case"first-of-type":case"focus":case"hover":case"last-child":case"last-of-type":case"link":case"only-of-type":case"root":case"target":case"visited":Ot();break;case"lang":Ot();Ot("(");D.identifier||St("Expected a lang code, and instead saw :{a}.",D,D.value);Ot(")");break;case"nth-child":case"nth-last-child":case"nth-last-of-type":case"nth-of-type":Ot();Ot("(");Ln();Ot(")");break;case"not":Ot();Ot("(");D.id===":"&&At(0).value==="not"&&St("Nested not.");On();Ot(")");break;default:St("Expected a pseudo, and instead saw :{a}.",D,D.value)}break;case"#":Ot("#");D.identifier||St("Expected an id, and instead saw #{a}.",D,D.value);Ot();break;case"*":Ot("*");break;case".":Ot(".");D.identifier||St("Expected a class, and instead saw #.{a}.",D,D.value);Ot();break;case"[":Ot("[");D.identifier||St("Expected an attribute, and instead saw [{a}].",D,D.value);Ot();if(D.id==="="||D.value==="~="||D.value==="$="||D.value==="|="||D.id==="*="||D.id==="^="){Ot();D.type!=="(string)"&&St("Expected a string, and instead saw {a}.",D,D.value);Ot()}Ot("]");break;default:Tt("Expected a CSS selector, and instead saw {a}.",D,D.value)}}function Mn(){D.id==="{"&&St("Expected a style pattern, and instead saw '{a}'.",D,D.id);for(;;){On();if(D.id==="</"||D.id==="{"||D.id==="(end)")return"";D.id===","&&Bt()}}function _n(){while(D.id!=="</"&&D.id!=="(end)"){Mn();Z="styleproperty";if(D.id===";")jt();else{Ot("{");An();Z="style";Ot("}")}}}function Dn(){var e;while(D.id==="@"){e=At();Ot("@");if(D.identifier)switch(D.value){case"import":Ot();if(!Nn()){St("Expected '{a}' and instead saw '{b}'.",D,"url",D.value);Ot()}jt();break;case"media":Ot();for(;;){(!D.identifier||v[D.value]===!0)&&Tt("Expected a CSS media type, and instead saw '{a}'.",D,D.id);Ot();if(D.id!==",")break;Bt()}Ot("{");_n();Ot("}");break;default:St("Expected an at-rule, and instead saw @{a}.",D,D.value)}else St("Expected an at-rule, and instead saw '{a}'.",D,D.value)}_n()}function Pn(e){e!=="html"&&!P.fragment&&(e==="div"&&P.adsafe?Tt("ADSAFE: Use the fragment option."):Tt("Expected '{a}' and instead saw '{b}'.",J,"html",e));if(P.adsafe){e==="html"&&Tt("Currently, ADsafe does not operate on whole HTML documents. It operates on <div> fragments and .js files.",J);P.fragment?e!=="div"&&Tt("ADsafe violation: Wrap the widget in a div.",J):Tt("Use the fragment option.",J)}P.browser=!0;wt()}function Hn(t,n,r){var i,s;if(n==="id"){i=typeof r=="string"?r.toUpperCase():"";T[i]===!0&&St("Duplicate id='{a}'.",D,r);if(!/^[A-Za-z][A-Za-z0-9._:\-]*$/.test(r))St("Bad id: '{a}'.",D,r);else if(P.adsafe)if(e)r.slice(0,e.length)!==e?St("ADsafe violation: An id must have a '{a}' prefix",D,e):/^[A-Z]+_[A-Z]+$/.test(r)||St("ADSAFE violation: bad id.");else{e=r;/^[A-Z]+_$/.test(r)||St("ADSAFE violation: bad id.")}s=r.search(vt);s>=0&&St("Unexpected character '{a}' in {b}.",J,r.charAt(s),n);T[i]=!0}else if(n==="class"||n==="type"||n==="name"){s=r.search(dt);s>=0&&St("Unexpected character '{a}' in {b}.",J,r.charAt(s),n);T[i]=!0}else if(n==="href"||n==="background"||n==="content"||n==="data"||n.indexOf("src")>=0||n.indexOf("url")>=0){P.safe&&ct.test(r)&&Tt("ADsafe URL violation.");K.push(r)}else n==="for"?P.adsafe&&(e?r.slice(0,e.length)!==e?St("ADsafe violation: An id must have a '{a}' prefix",D,e):/^[A-Z]+_[A-Z]+$/.test(r)||St("ADSAFE violation: bad id."):St("ADSAFE violation: bad id.")):n==="name"&&P.adsafe&&r.indexOf("_")>=0&&St("ADsafe name violation.")}function Bn(r,s){var o,u=x[r],a;R=!1;u||Tt("Unrecognized tag '<{a}>'.",D,r===r.toLowerCase()?r:r+" (capitalization error)");if(U.length>0){r==="html"&&Tt("Too many <html> tags.",J);a=u.parent;if(a)a.indexOf(" "+U[U.length-1].name+" ")<0&&Tt("A '<{a}>' must be within '<{b}>'.",J,r,a);else if(!P.adsafe&&!P.fragment){o=U.length;do{o<=0&&Tt("A '<{a}>' must be within '<{b}>'.",J,r,"body");o-=1}while(U[o].name!=="body")}}switch(r){case"div":P.adsafe&&U.length===1&&!e&&St("ADSAFE violation: missing ID_.");break;case"script":Z="script";Ot(">");s.lang&&St("lang is deprecated.",J);P.adsafe&&U.length!==1&&St("ADsafe script placement violation.",J);if(s.src){P.adsafe&&(!t||!i[s.src])&&St("ADsafe unapproved script source.",J);s.type&&St("type is unnecessary.",J)}else{n&&Tt("ADsafe script violation.",J);Ft();sn("script")}Z="html";Ot("</");!D.identifier&&D.value!=="script"&&St("Expected '{a}' and instead saw '{b}'.",D,"script",D.value);Ot();Z="outer";break;case"style":Z="style";Ot(">");Dn();Z="html";Ot("</");!D.identifier&&D.value!=="style"&&St("Expected '{a}' and instead saw '{b}'.",D,"style",D.value);Ot();Z="outer";break;case"input":switch(s.type){case"radio":case"checkbox":case"button":case"reset":case"submit":break;case"text":case"file":case"password":case"file":case"hidden":case"image":P.adsafe&&s.autocomplete!=="off"&&St("ADsafe autocomplete violation.");break;default:St("Bad input type.")}break;case"applet":case"body":case"embed":case"frame":case"frameset":case"head":case"iframe":case"noembed":case"noframes":case"object":case"param":P.adsafe&&St("ADsafe violation: Disallowed tag: "+r)}}function jn(e){return"</"+e+">"}function Fn(){var e,t,n,r,i,s,o,u=P.white,a;Z="html";et="";U=null;for(;;){switch(D.value){case"<":Z="html";Ot("<");t={};s=D;s.identifier||St("Bad identifier {a}.",s,s.value);r=s.value;P.cap&&(r=r.toLowerCase());s.name=r;Ot();if(!U){U=[];Pn(r)}o=x[r];typeof o!="object"&&Tt("Unrecognized tag '<{a}>'.",s,r);n=o.empty;s.type=r;for(;;){if(D.id==="/"){Ot("/");D.id!==">"&&St("Expected '{a}' and instead saw '{b}'.",D,">",D.value);break}if(D.id&&D.id.substr(0,1)===">")break;if(!D.identifier){(D.id==="(end)"||D.id==="(error)")&&Tt("Missing '>'.",D);St("Bad identifier.")}P.white=!0;Ht();e=D.value;P.white=u;Ot();!P.cap&&e!==e.toLowerCase()&&St("Attribute '{a}' not all lower case.",D,e);e=e.toLowerCase();et="";yt(t,e)&&St("Attribute '{a}' repeated.",D,e);if(e.slice(0,2)==="on"){P.on||St("Avoid HTML event handlers.");Z="scriptstring";Ot("=");i=D.id;i!=='"'&&i!=="'"&&Tt("Missing quote.");et=i;a=P.white;P.white=!1;Ot(i);Ft();sn("on");P.white=a;D.id!==i&&Tt("Missing close quote on script attribute.");Z="html";et="";Ot(i);o=!1}else if(e==="style"){Z="scriptstring";Ot("=");i=D.id;i!=='"'&&i!=="'"&&Tt("Missing quote.");Z="styleproperty";et=i;Ot(i);An();Z="html";et="";Ot(i);o=!1}else if(D.id==="="){Ot("=");o=D.value;!D.identifier&&D.id!=='"'&&D.id!=="'"&&D.type!=="(string)"&&D.type!=="(number)"&&D.type!=="(color)"&&St("Expected an attribute value and instead saw '{a}'.",J,e);Ot()}else o=!0;t[e]=o;Hn(r,e,o)}Bn(r,t);n||U.push(s);Z="outer";Ot(">");break;case"</":Z="html";Ot("</");D.identifier||St("Bad identifier.");r=D.value;P.cap&&(r=r.toLowerCase());Ot();U||Tt("Unexpected '{a}'.",D,jn(r));s=U.pop();s||Tt("Unexpected '{a}'.",D,jn(r));s.name!==r&&Tt("Expected '{a}' and instead saw '{b}'.",D,jn(s.name),jn(r));D.id!==">"&&Tt("Missing '{a}'.",D,">");Z="outer";Ot(">");break;case"<!":P.safe&&St("ADsafe HTML violation.");Z="html";for(;;){Ot();if(D.id===">"||D.id==="(end)")break;D.value.indexOf("--")>=0&&Tt("Unexpected --.");D.value.indexOf("<")>=0&&Tt("Unexpected <.");D.value.indexOf(">")>=0&&Tt("Unexpected >.")}Z="outer";Ot(">");break;case"(end)":return;default:D.id==="(end)"?Tt("Missing '{a}'.",D,"</"+U[U.length-1].value+">"):Ot()}if(U&&U.length===0&&(P.adsafe||!P.fragment||D.id==="(end)"))break}D.id!=="(end)"&&Tt("Unexpected material after the end.")}var e,t,n,r,i,s={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},o={arguments:!0,callee:!0,caller:!0,constructor:!0,eval:!0,prototype:!0,stack:!0,unwatch:!0,valueOf:!0,watch:!0},u={adsafe:!0,bitwise:!0,browser:!0,cap:!0,css:!0,debug:!0,devel:!0,es5:!0,evil:!0,forin:!0,fragment:!0,newcap:!0,nomen:!0,on:!0,onevar:!0,passfail:!0,plusplus:!0,regexp:!0,rhino:!0,undef:!0,safe:!0,windows:!0,strict:!0,sub:!0,white:!0,widget:!0},a={addEventListener:!1,blur:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,defaultStatus:!1,document:!1,event:!1,focus:!1,frames:!1,getComputedStyle:!1,history:!1,Image:!1,length:!1,location:!1,moveBy:!1,moveTo:!1,name:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,opener:!1,Option:!1,parent:!1,print:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,setInterval:!1,setTimeout:!1,status:!1,top:!1,XMLHttpRequest:!1},f,l,c={aliceblue:!0,antiquewhite:!0,aqua:!0,aquamarine:!0,azure:!0,beige:!0,bisque:!0,black:!0,blanchedalmond:!0,blue:!0,blueviolet:!0,brown:!0,burlywood:!0,cadetblue:!0,chartreuse:!0,chocolate:!0,coral:!0,cornflowerblue:!0,cornsilk:!0,crimson:!0,cyan:!0,darkblue:!0,darkcyan:!0,darkgoldenrod:!0,darkgray:!0,darkgreen:!0,darkkhaki:!0,darkmagenta:!0,darkolivegreen:!0,darkorange:!0,darkorchid:!0,darkred:!0,darksalmon:!0,darkseagreen:!0,darkslateblue:!0,darkslategray:!0,darkturquoise:!0,darkviolet:!0,deeppink:!0,deepskyblue:!0,dimgray:!0,dodgerblue:!0,firebrick:!0,floralwhite:!0,forestgreen:!0,fuchsia:!0,gainsboro:!0,ghostwhite:!0,gold:!0,goldenrod:!0,gray:!0,green:!0,greenyellow:!0,honeydew:!0,hotpink:!0,indianred:!0,indigo:!0,ivory:!0,khaki:!0,lavender:!0,lavenderblush:!0,lawngreen:!0,lemonchiffon:!0,lightblue:!0,lightcoral:!0,lightcyan:!0,lightgoldenrodyellow:!0,lightgreen:!0,lightpink:!0,lightsalmon:!0,lightseagreen:!0,lightskyblue:!0,lightslategray:!0,lightsteelblue:!0,lightyellow:!0,lime:!0,limegreen:!0,linen:!0,magenta:!0,maroon:!0,mediumaquamarine:!0,mediumblue:!0,mediumorchid:!0,mediumpurple:!0,mediumseagreen:!0,mediumslateblue:!0,mediumspringgreen:!0,mediumturquoise:!0,mediumvioletred:!0,midnightblue:!0,mintcream:!0,mistyrose:!0,moccasin:!0,navajowhite:!0,navy:!0,oldlace:!0,olive:!0,olivedrab:!0,orange:!0,orangered:!0,orchid:!0,palegoldenrod:!0,palegreen:!0,paleturquoise:!0,palevioletred:!0,papayawhip:!0,peachpuff:!0,peru:!0,pink:!0,plum:!0,powderblue:!0,purple:!0,red:!0,rosybrown:!0,royalblue:!0,saddlebrown:!0,salmon:!0,sandybrown:!0,seagreen:!0,seashell:!0,sienna:!0,silver:!0,skyblue:!0,slateblue:!0,slategray:!0,snow:!0,springgreen:!0,steelblue:!0,tan:!0,teal:!0,thistle:!0,tomato:!0,turquoise:!0,violet:!0,wheat:!0,white:!0,whitesmoke:!0,yellow:!0,yellowgreen:!0,activeborder:!0,activecaption:!0,appworkspace:!0,background:!0,buttonface:!0,buttonhighlight:!0,buttonshadow:!0,buttontext:!0,captiontext:!0,graytext:!0,highlight:!0,highlighttext:!0,inactiveborder:!0,inactivecaption:!0,inactivecaptiontext:!0,infobackground:!0,infotext:!0,menu:!0,menutext:!0,scrollbar:!0,threeddarkshadow:!0,threedface:!0,threedhighlight:!0,threedlightshadow:!0,threedshadow:!0,window:!0,windowframe:!0,windowtext:!0},h,p,d={"%":!0,cm:!0,em:!0,ex:!0,"in":!0,mm:!0,pc:!0,pt:!0,px:!0},v,m,g={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},y={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},b,w=["closure","exception","global","label","outer","unused","var"],E,S,x={a:{},abbr:{},acronym:{},address:{},applet:{},area:{empty:!0,parent:" map "},article:{},aside:{},audio:{},b:{},base:{empty:!0,parent:" head "},bdo:{},big:{},blockquote:{},body:{parent:" html noframes "},br:{empty:!0},button:{},canvas:{parent:" body p div th td "},caption:{parent:" table "},center:{},cite:{},code:{},col:{empty:!0,parent:" table colgroup "},colgroup:{parent:" table "},command:{parent:" menu "},datalist:{},dd:{parent:" dl "},del:{},details:{},dialog:{},dfn:{},dir:{},div:{},dl:{},dt:{parent:" dl "},em:{},embed:{},fieldset:{},figure:{},font:{},footer:{},form:{},frame:{empty:!0,parent:" frameset "},frameset:{parent:" html frameset "},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{parent:" html "},header:{},hgroup:{},hr:{empty:!0},"hta:application":{empty:!0,parent:" head "},html:{parent:"*"},i:{},iframe:{},img:{empty:!0},input:{empty:!0},ins:{},kbd:{},keygen:{},label:{},legend:{parent:" details fieldset figure "},li:{parent:" dir menu ol ul "},link:{empty:!0,parent:" head "},map:{},mark:{},menu:{},meta:{empty:!0,parent:" head noframes noscript "},meter:{},nav:{},noframes:{parent:" html body "},noscript:{parent:" body head noframes "},object:{},ol:{},optgroup:{parent:" select "},option:{parent:" optgroup select "},output:{},p:{},param:{empty:!0,parent:" applet object "},pre:{},progress:{},q:{},rp:{},rt:{},ruby:{},samp:{},script:{empty:!0,parent:" body div frame head iframe p pre span "},section:{},select:{},small:{},span:{},source:{},strong:{},style:{parent:" head ",empty:!0},sub:{},sup:{},table:{},tbody:{parent:" table "},td:{parent:" tr "},textarea:{},tfoot:{parent:" table "},th:{parent:" tr "},thead:{parent:" table "},time:{},title:{parent:" head "},tr:{parent:" table tbody thead tfoot "},tt:{},u:{},ul:{},"var":{},video:{}},T,N,C,k,L={"do":!0,"for":!0,"switch":!0,"while":!0},A,O,M,_,D,P,H={"(end)":!0,"(error)":!0,"</":!0,"}":!0,'"':!0,"'":!0,"case":!0,"default":!0},B,j,F,I={defineClass:!1,deserialize:!1,gc:!1,help:!1,load:!1,loadClass:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},q
,R,U,z={Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,JSON:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},W={E:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,MAX_VALUE:!0,MIN_VALUE:!0,NEGATIVE_INFINITY:!0,PI:!0,POSITIVE_INFINITY:!0,SQRT1_2:!0,SQRT2:!0},X,V={},$,J,K,Q,G={alert:!0,animator:!0,appleScript:!0,beep:!0,bytesToUIString:!0,Canvas:!0,chooseColor:!0,chooseFile:!0,chooseFolder:!0,closeWidget:!0,COM:!0,convertPathToHFS:!0,convertPathToPlatform:!0,CustomAnimation:!0,escape:!0,FadeAnimation:!0,filesystem:!0,Flash:!0,focusWidget:!0,form:!0,FormField:!0,Frame:!0,HotKey:!0,Image:!0,include:!0,isApplicationRunning:!0,iTunes:!0,konfabulatorVersion:!0,log:!0,md5:!0,MenuItem:!0,MoveAnimation:!0,openURL:!0,play:!0,Point:!0,popupMenu:!0,preferenceGroups:!0,preferences:!0,print:!0,prompt:!0,random:!0,Rectangle:!0,reloadWidget:!0,ResizeAnimation:!0,resolvePath:!0,resumeUpdates:!0,RotateAnimation:!0,runCommand:!0,runCommandInBg:!0,saveAs:!0,savePreferences:!0,screen:!0,ScrollBar:!0,showWidgetPreferences:!0,sleep:!0,speak:!0,Style:!0,suppressUpdates:!0,system:!0,tellWidget:!0,Text:!0,TextArea:!0,Timer:!0,unescape:!0,updateNow:!0,URL:!0,Web:!0,widget:!0,Window:!0,XMLDOM:!0,XMLHttpRequest:!0,yahooCheckLogin:!0,yahooLogin:!0,yahooLogout:!0},Y={ActiveXObject:!1,CScript:!1,Debug:!1,Enumerator:!1,System:!1,VBArray:!1,WScript:!1},Z,et,tt=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i,nt=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,rt=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jslint|members?|global)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/,it=/^\s*(['"=>\/&#]|<(?:\/|\!(?:--)?)?|[a-zA-Z][a-zA-Z0-9_\-:]*|[0-9]+|--)/,st=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,ot=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,ut=/[>&]|<[\/!]?|--/,at=/\*\/|\/\*/,ft=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,lt=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,ct=/&|\+|\u00AD|\.\.|\/\*|%[^;]|base64|url|expression|data|mailto/i,ht=/^\s*([{:#%.=,>+\[\]@()"';]|\*=?|\$=|\|=|\^=|~=|[a-zA-Z_][a-zA-Z0-9_\-]*|[0-9]+|<\/|\/\*)/,pt=/^\s*([@#!"'};:\-%.=,+\[\]()*_]|[a-zA-Z][a-zA-Z0-9._\-]*|\/\*?|\d+(?:\.\d+)?|<\/)/,dt=/[^a-zA-Z0-9+\-_\/ ]/,vt=/[\[\]\/\\"'*<>.&:(){}+=#]/,mt={outer:it,html:it,style:ht,styleproperty:pt};typeof Array.isArray!="function"&&(Array.isArray=function(e){return Object.prototype.toString.apply(e)==="[object Array]"});typeof Object.create!="function"&&(Object.create=function(e){gt.prototype=e;return new gt});typeof Object.keys!="function"&&(Object.keys=function(e){var t=[],n;for(n in e)yt(e,n)&&t.push(n);return t});typeof String.prototype.entityify!="function"&&(String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")});typeof String.prototype.isAlpha!="function"&&(String.prototype.isAlpha=function(){return this>="a"&&this<="z￿"||this>="A"&&this<="Z￿"});typeof String.prototype.isDigit!="function"&&(String.prototype.isDigit=function(){return this>="0"&&this<="9"});typeof String.prototype.supplant!="function"&&(String.prototype.supplant=function(e){return this.replace(/\{([^{}]*)\}/g,function(t,n){var r=e[n];return typeof r=="string"||typeof r=="number"?r:t})});typeof String.prototype.name!="function"&&(String.prototype.name=function(){return ft.test(this)?this:st.test(this)?'"'+this.replace(ot,function(e){var t=y[e];return t?t:"\\u"+("0000"+e.charCodeAt().toString(16)).slice(-4)})+'"':'"'+this+'"'});var Ct=function(){function s(){var e;if(r>=A.length)return!1;t=1;i=A[r];r+=1;e=i.search(/ \t/);e>=0&&xt("Mixed spaces and tabs.",r,e+1);i=i.replace(/\t/g,$);e=i.search(nt);e>=0&&xt("Unsafe character.",r,e);P.maxlen&&P.maxlen<i.length&&xt("Line too long.",r,i.length);return!0}function o(e,i){var s,o;e==="(color)"||e==="(range)"?o={type:e}:e==="(punctuator)"||e==="(identifier)"&&yt(V,i)?o=V[i]||V["(error)"]:o=V[e];o=Object.create(o);(e==="(string)"||e==="(range)")&&lt.test(i)&&xt("Script URL.",r,n);if(e==="(identifier)"){o.identifier=!0;i==="__iterator__"||i==="__proto__"?Nt("Reserved name '{a}'.",r,n,i):P.nomen&&(i.charAt(0)==="_"||i.charAt(i.length-1)==="_")&&xt("Unexpected {a} in '{b}'.",r,n,"dangling '_'",i)}i!==undefined&&(o.value=i);o.line=r;o.thru=t;o.from=n;s=o.id;j=s&&("(,=:[!&|?{};".indexOf(s.charAt(s.length-1))>=0||s==="return");return o}var t,n,r,i;return{init:function(e){typeof e=="string"?A=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"):A=e;r=0;s();n=1},range:function(e,s){var u,a="";n=t;i.charAt(0)!==e&&Nt("Expected '{a}' and instead saw '{b}'.",r,t,e,i.charAt(0));for(;;){i=i.slice(1);t+=1;u=i.charAt(0);switch(u){case"":Nt("Missing '{a}'.",r,t,u);break;case s:i=i.slice(1);t+=1;return o("(range)",a);case et:case"\\":xt("Unexpected '{a}'.",r,t,u)}a+=u}},token:function(){function g(e){var r=e.exec(i),s;if(r){p=r[0].length;s=r[1];u=s.charAt(0);i=i.substr(p);n=t+p-s.length;t+=p;return s}}function y(e){function l(e){var n=parseInt(i.substr(a+1,e),16);a+=e;n>=32&&n<=126&&n!==34&&n!==92&&n!==39&&xt("Unnecessary escapement.",r,t);t+=e;u=String.fromCharCode(n)}var u,a,f="";k&&e!=='"'&&xt("Strings must use doublequote.",r,t);if(et===e||Z==="scriptstring"&&!et)return o("(punctuator)",e);a=0;for(;;){while(a>=i.length){a=0;(Z!=="html"||!s())&&Nt("Unclosed string.",r,n)}u=i.charAt(a);if(u===e){t+=1;i=i.substr(a+1);return o("(string)",f,e)}if(u<" "){if(u==="\n"||u==="\r")break;xt("Control character in string: {a}.",r,t+a,i.slice(0,a))}else if(u===et)xt("Bad HTML string",r,t+a);else if(u==="<")P.safe&&Z==="html"?xt("ADsafe string violation.",r,t+a):i.charAt(a+1)==="/"&&(Z||P.safe)?xt("Expected '<\\/' and instead saw '</'.",r,t):i.charAt(a+1)==="!"&&(Z||P.safe)&&xt("Unexpected '<!' in a string.",r,t);else if(u==="\\")if(Z==="html")P.safe&&xt("ADsafe string violation.",r,t+a);else if(Z==="styleproperty"){a+=1;t+=1;u=i.charAt(a);u!==e&&xt("Escapement in style string.",r,t+a)}else{a+=1;t+=1;u=i.charAt(a);switch(u){case et:xt("Bad HTML string",r,t+a);break;case"\\":case'"':case"/":break;case"'":k&&xt("Avoid \\'.",r,t);break;case"b":u="\b";break;case"f":u="\f";break;case"n":u="\n";break;case"r":u="\r";break;case"t":u="	";break;case"u":l(4);break;case"v":k&&xt("Avoid \\v.",r,t);u="";break;case"x":k&&xt("Avoid \\x-.",r,t);l(2);break;default:xt("Bad escapement.",r,t)}}f+=u;t+=1;a+=1}}var e,u,a,f,l,c,h,p,d,v,m;for(;;){while(!i)if(!s())return o("(end)");while(Z==="outer"){h=i.search(ut);if(h===0)break;if(h>0){t+=1;i=i.slice(h);break}if(!s())return o("(end)","")}m=g(mt[Z]||rt);if(!m){m="";u="";while(i&&i<"!")i=i.substr(1);if(i){if(Z==="html")return o("(error)",i.charAt(0));Nt("Unexpected '{a}'.",r,t,i.substr(0,1))}}else{if(u.isAlpha()||u==="_"||u==="$")return o("(identifier)",m);if(u.isDigit()){Z!=="style"&&!isFinite(Number(m))&&xt("Bad number '{a}'.",r,t,m);Z!=="style"&&Z!=="styleproperty"&&i.substr(0,1).isAlpha()&&xt("Missing space after '{a}'.",r,t,m);if(u==="0"){f=m.substr(1,1);f.isDigit()?J.id!=="."&&Z!=="styleproperty"&&xt("Don't use extra leading zeros '{a}'.",r,t,m):k&&(f==="x"||f==="X")&&xt("Avoid 0x-. '{a}'.",r,t,m)}m.substr(m.length-1)==="."&&xt("A trailing decimal point can be confused with a dot '{a}'.",r,t,m);return o("(number)",m)}switch(m){case'"':case"'":return y(m);case"//":R||Z&&Z!=="script"?xt("Unexpected comment.",r,t):Z==="script"&&/<\s*\//i.test(i)?xt("Unexpected </ in comment.",r,t):(P.safe||Z==="script")&&tt.test(i)&&xt("Dangerous comment.",r,t);i="";J.comment=!0;break;case"/*":(R||Z&&Z!=="script"&&Z!=="style"&&Z!=="styleproperty")&&xt("Unexpected comment.",r,t);P.safe&&tt.test(i)&&xt("ADsafe comment violation.",r,t);for(;;){h=i.search(at);if(h>=0)break;s()?P.safe&&tt.test(i)&&xt("ADsafe comment violation.",r,t):Nt("Unclosed comment.",r,t)}t+=h+2;i.substr(h,1)==="/"&&Nt("Nested comment.",r,t);i=i.substr(h+2);J.comment=!0;break;case"/*members":case"/*member":case"/*jslint":case"/*global":case"*/":return{value:m,type:"special",line:r,thru:t,from:n};case"":break;case"/":J.id==="/="&&Nt("A regular expression literal can be confused with '/='.",r,n);if(j){l=0;a=0;p=0;for(;;){e=!0;u=i.charAt(p);p+=1;switch(u){case"":Nt("Unclosed regular expression.",r,n);return;case"/":l>0&&xt("Unescaped '{a}'.",r,n+p,"/");u=i.substr(0,p-1);v={g:!0,i:!0,m:!0};while(v[i.charAt(p)]===!0){v[i.charAt(p)]=!1;p+=1}t+=p;i=i.substr(p);v=i.charAt(0);(v==="/"||v==="*")&&Nt("Confusing regular expression.",r,n);return o("(regexp)",u);case"\\":u=i.charAt(p);u<" "?xt("Unexpected control character in regular expression.",r,n+p):u==="<"&&xt("Unexpected escaped character '{a}' in regular expression.",r,n+p,u);p+=1;break;case"(":l+=1;e=!1;if(i.charAt(p)==="?"){p+=1;switch(i.charAt(p)){case":":case"=":case"!":p+=1;break;default:xt("Expected '{a}' and instead saw '{b}'.",r,n+p,":",i.charAt(p))}}else a+=1;break;case"|":e=!1;break;case")":l===0?xt("Unescaped '{a}'.",r,n+p,")"):l-=1;break;case" ":v=1;while(i.charAt(p)===" "){p+=1;v+=1}v>1&&xt("Spaces are hard to count. Use {{a}}.",r,n+p,v);break;case"[":u=i.charAt(p);if(u==="^"){p+=1;P.regexp?xt("Insecure '{a}'.",r,n+p,u):i.charAt(p)==="]"&&Nt("Unescaped '{a}'.",r,n+p,"^")}v=!1;if(u==="]"){xt("Empty class.",r,n+p-1);v=!0}e:do{u=i.charAt(p);p+=1;switch(u){case"[":case"^":xt("Unescaped '{a}'.",r,n+p,u);v=!0;break;case"-":if(v)v=!1;else{xt("Unescaped '{a}'.",r,n+p,"-");v=!0}break;case"]":v||xt("Unescaped '{a}'.",r,n+p-1,"-");break e;case"\\":u=i.charAt(p);u<" "?xt("Unexpected control character in regular expression.",r,n+p):u==="<"&&xt("Unexpected escaped character '{a}' in regular expression.",r,n+p,u);p+=1;v=!0;break;case"/":xt("Unescaped '{a}'.",r,n+p-1,"/");v=!0;break;case"<":if(Z==="script"){u=i.charAt(p);(u==="!"||u==="/")&&xt("HTML confusion in regular expression '<{a}'.",r,n+p,u)}v=!0;break;default:v=!0}}while(u);break;case".":P.regexp&&xt("Insecure '{a}'.",r,n+p,u);break;case"]":case"?":case"{":case"}":case"+":case"*":xt("Unescaped '{a}'.",r,n+p,u);break;case"<":if(Z==="script"){u=i.charAt(p);(u==="!"||u==="/")&&xt("HTML confusion in regular expression '<{a}'.",r,n+p,u)}}if(e)switch(i.charAt(p)){case"?":case"+":case"*":p+=1;i.charAt(p)==="?"&&(p+=1);break;case"{":p+=1;u=i.charAt(p);(u<"0"||u>"9")&&xt("Expected a number and instead saw '{a}'.",r,n+p,u);p+=1;d=+u;for(;;){u=i.charAt(p);if(u<"0"||u>"9")break;p+=1;d=+u+d*10}c=d;if(u===","){p+=1;c=Infinity;u=i.charAt(p);if(u>="0"&&u<="9"){p+=1;c=+u;for(;;){u=i.charAt(p);if(u<"0"||u>"9")break;p+=1;c=+u+c*10}}}i.charAt(p)!=="}"?xt("Expected '{a}' and instead saw '{b}'.",r,n+p,"}",u):p+=1;i.charAt(p)==="?"&&(p+=1);d>c&&xt("'{a}' should not be greater than '{b}'.",r,n+p,d,c)}}u=i.substr(0,p-1);t+=p;i=i.substr(p);return o("(regexp)",u)}return o("(punctuator)",m);case"<!--":p=r;u=t;for(;;){h=i.indexOf("--");if(h>=0)break;h=i.indexOf("<!");h>=0&&Nt("Nested HTML comment.",r,t+h);s()||Nt("Unclosed HTML comment.",p,u)}p=i.indexOf("<!");p>=0&&p<h&&Nt("Nested HTML comment.",r,t+p);t+=h;i.charAt(h+2)!==">"&&Nt("Expected -->.",r,t);t+=3;i=i.slice(h+3);break;case"#":if(Z==="html"||Z==="styleproperty"){for(;;){u=i.charAt(0);if((u<"0"||u>"9")&&(u<"a"||u>"f")&&(u<"A"||u>"F"))break;t+=1;i=i.substr(1);m+=u}m.length!==4&&m.length!==7&&xt("Bad hex color '{a}'.",r,n+p,m);return o("(color)",m)}return o("(punctuator)",m);default:if(Z==="outer"&&u==="&"){t+=1;i=i.substr(1);for(;;){u=i.charAt(0);t+=1;i=i.substr(1);if(u===";")break;u>="0"&&u<="9"||u>="a"&&u<="z"||u==="#"||Nt("Bad entity",r,n+p,t)}break}return o("(punctuator)",m)}}}}}}();$t("(number)",function(){this.arity="number";return this});$t("(string)",function(){this.arity="string";return this});V["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var e=this.value,t=q[e],n;if(typeof t=="function")t=undefined;else if(typeof t=="boolean"){n=b;b=E[0];kt(e,"var");t=b;b=n}if(b===t)switch(b[e]){case"unused":b[e]="var";break;case"unction":b[e]="function";this["function"]=!0;break;case"function":this["function"]=!0;break;case"label":St("'{a}' is a statement label.",J,e)}else if(b["(global)"]){P.undef&&typeof B[e]!="boolean"&&St("'{a}' is not defined.",J,e);an(J)}else switch(b[e]){case"closure":case"function":case"var":case"unused":St("'{a}' used out of scope.",J,e);break;case"label":St("'{a}' is a statement label.",J,e);break;case"outer":case"global":break;default:if(t===!0)b[e]=!0;else if(t===null){St("'{a}' is not allowed.",J,e);an(J)}else if(typeof t!="object"){P.undef?St("'{a}' is not defined.",J,e):b[e]=!0;an(J)}else switch(t[e]){case"function":case"unction":this["function"]=!0;t[e]="closure";b[e]=t["(global)"]?"global":"outer";break;case"var":case"unused":t[e]="closure";b[e]=t["(global)"]?"global":"outer";break;case"closure":case"parameter":b[e]=t["(global)"]?"global":"outer";break;case"label":St("'{a}' is a statement label.",J,e)}}return this},led:function(){Tt("Expected an operator and instead saw '{a}'.",D,D.value)}};$t("(regexp)",function(){return this});Ut("(begin)");Ut("(end)");Ut("(error)");Rt("</");Rt("<!");Rt("<!--");Rt("-->");Rt("}");Rt(")");Rt("]");Rt('"');Rt("'");Rt(";");Rt(":");Rt(",");Rt("#");Rt("@");Jt("else");Jt("case");Jt("catch");Jt("default");Jt("finally");Kt("arguments",function(e){X&&b["(global)"]?St("Strict violation.",e):P.safe&&St("ADsafe violation.",e)});Kt("eval",function(e){P.safe&&St("ADsafe violation.",e)});Kt("false");Kt("Infinity");Kt("NaN");Kt("null");Kt("this",function(e){X&&(b["(statement)"]&&b["(name)"].charAt(0)>"Z"||b["(global)"])?St("Strict violation.",e):P.safe&&St("ADsafe violation.",e)});Kt("true");Kt("undefined");Yt("=");Yt("+=");Yt("-=");Yt("*=");Yt("/=").nud=function(){Tt("A regular expression literal can be confused with '/='.")};Yt("%=");Yt("&=",!0);Yt("|=",!0);Yt("^=",!0);Yt("<<=",!0);Yt(">>=",!0);Yt(">>>=",!0);Qt("?",30,function(e,t){t.first=e;t.second=It(10);Ht();Ot(":");Ht();t.third=It(10);return t});Qt("||",40);Qt("&&",50);Zt("|",70);Zt("^",80);Zt("&",90);Gt("==","===");Gt("===");Gt("!=","!==");Gt("!==");Gt("<");Gt(">");Gt("<=");Gt(">=");Zt("<<",120);Zt(">>",120);Zt(">>>",120);Qt("in",120);Qt("instanceof",120);Qt("+",130,function(e,t){var n=It(130);if(e&&n&&e.id==="(string)"&&n.id==="(string)"){e.value+=n.value;e.thru=n.thru;lt.test(e.value)&&St("JavaScript URL.",e);return e}t.first=e;t.second=n;return t});Vt("+","num");Vt("+++",function(){St("Confusing pluses.");this.first=It(150);this.arity="prefix";return this});Qt("+++",130,function(e){St("Confusing pluses.");this.first=e;this.second=It(130);return this});Qt("-",130);Vt("-");Vt("---",function(){St("Confusing minuses.");this.first=It(150);this.arity="prefix";return this});Qt("---",130,function(e){St("Confusing minuses.");this.first=e;this.second=It(130);return this});Qt("*",140);Qt("/",140);Qt("%",140);en("++");Vt("++");en("--");Vt("--");Vt("delete",function(){_t();var e=It(0);(!e||e.id!=="."&&e.id!=="[")&&St("Only properties should be deleted.");this.first=e;return this});Vt("~",function(){Pt();P.bitwise&&St("Unexpected '{a}'.",this,"~");It(150);return this});Vt("!",function(){Pt();this.first=It(150);this.arity="prefix";s[this.first.id]===!0&&St("Confusing use of '{a}'.",this,"!");return this});Vt("typeof");Vt("new",function(){_t();var e=It(160),t;if(e.id!=="function")if(e.identifier)switch(e.value){case"Object":St("Use the object literal notation {}.",J);break;case"Array":if(D.id!=="(")St("Use the array literal notation [].",J);else{Ot("(");D.id===")"&&St("Use the array literal notation [].",J);Ot(")")}this.first=e;return this;case"Number":case"String":case"Boolean":case"Math":case"JSON":St("Do not use {a} as a constructor.",J,e.value);break;case"Function":P.evil||St("The Function constructor is eval.");break;case"Date":case"RegExp":break;default:if(e.id!=="function"){t=e.value.substr(0,1);P.newcap&&(t<"A"||t>"Z")&&St("A constructor name should start with an uppercase letter.",J)}}else e.id!=="."&&e.id!=="["&&e.id!=="("&&St("Bad constructor.",J);else St("Weird construction. Delete 'new'.",this);D.id!=="("&&St("Missing '()' invoking a constructor.");this.first=e;return this});Qt("(",160,function(e,t){Pt(F,J);!e.immed&&e.id==="function"&&St("Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.");var n=[];e&&(e.type==="(identifier)"?e.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&e.value!=="Number"&&e.value!=="String"&&e.value!=="Boolean"&&e.value!=="Date"&&(e.value==="Math"?St("Math is not a function.",e):P.newcap&&St("Missing 'new' prefix when invoking a constructor.",e)):e.id==="."&&P.safe&&e.first.value==="Math"&&e.second==="random"&&St("ADsafe violation.",e));if(D.id!==")"){Dt();for(;;){n.push(It(10));if(D.id!==",")break;Bt()}}Dt();Ot(")");if(typeof e=="object"){e.value==="parseInt"&&n.length===1&&St("Missing radix parameter.",e);P.evil||(e.value==="eval"||e.value==="Function"||e.value==="execScript"?St("eval is evil.",e):n[0]&&n[0].id==="(string)"&&(e.value==="setTimeout"||e.value==="setInterval")&&St("Implied eval is evil. Pass a function instead of a string.",e));!e.identifier&&e.id!=="."&&e.id!=="["&&e.id!=="("&&e.id!=="&&"&&e.id!=="||"&&e.id!=="?"&&St("Bad invocation.",e)}t.first=e;t.second=n;return t},!0);Vt("(",function(){Dt();D.id==="function"&&(D.immed=!0);var e=It(0);Dt();Ot(")",this);e.id==="function"&&(D.id==="("?St("Move the invocation into the parens that contain the function.",D):St("Do not wrap function literals in parens unless they are to be immediately invoked.",this));return e});Qt(".",170,function(r,i){Dt(F,J);Dt();var s=nn();typeof s=="string"&&un(s);i.first=r;i.second=s;if(!r||r.value!=="arguments"||s!=="callee"&&s!=="caller"){if(!P.evil&&r&&r.value==="document"&&(s==="write"||s==="writeln"))St("document.write can be a form of eval.",r);else if(P.adsafe&&r&&r.value==="ADSAFE")if(s==="id"||s==="lib")St("ADsafe violation.",i);else if(s==="go"){Z!=="script"?St("ADsafe violation.",i):(n||D.id!=="("||At(0).id!=="(string)"||At(0).value!==e||At(1).id!==",")&&Tt("ADsafe violation: go.",i);n=!0;t=!1}}else St("Avoid arguments.{a}.",r,s);if(!!P.evil||s!=="eval"&&s!=="execScript"){if(P.safe)for(;;){o[s]===!0&&St("ADsafe restricted word '{a}'.",J,s);if(typeof B[r.value]!="boolean"||D.id==="(")break;if(W[s]===!0){D.id==="."&&St("ADsafe violation.",i);break}if(D.id!=="."){St("ADsafe violation.",i);break}Ot(".");J.first=i;J.second=s;i=J;s=nn();typeof s=="string"&&un(s)}}else St("eval is evil.");return i},!0);Qt("[",170,function(e,t){Pt(F,J);Dt();var n=It(0),r;if(n&&n.type==="(string)"){P.safe&&o[n.value]===!0?St("ADsafe restricted word '{a}'.",t,n.value):!!P.evil||n.value!=="eval"&&n.value!=="execScript"?P.safe&&(n.value.charAt(0)==="_"||n.value.charAt(0)==="-")&&St("ADsafe restricted subscript '{a}'.",t,n.value):St("eval is evil.",t);un(n.value);if(!P.sub&&ft.test(n.value)){r=V[n.value];(!r||!r.reserved)&&St("['{a}'] is better written in dot notation.",n,n.value)}}else(!n||n.type!=="(number)"||n.value<0)&&P.safe&&St("ADsafe subscripting.");Ot("]",t);Dt(F,J);t.first=e;t.second=n;return t},!0);Vt("[",function(){this.first=[];while(D.id!=="(end)"){while(D.id===","){St("Extra comma.");Ot(",")}if(D.id==="]")break;this.first.push(It(10));if(D.id!==",")break;Bt();if(D.id==="]"&&!P.es5){St("Extra comma.",J);break}}Ot("]",this);return this},170);Vt("{",function(){var e,t,n,r,i,s,o={},u;this.arity="prefix";this.first=[];while(D.id!=="}"){if(D.value==="get"&&At().id!==":"){P.es5||St("get/set are ES5 features.");e=D;Mt();Ot("get");r=D;t=fn();t||Tt("Missing property name.");cn(e,"");b["(loopage)"]&&St("Don't make functions within a loop.",u);i=e.first;i&&St("Unexpected parameter '{a}' in get {b} function.",u,i[0],t);Bt();s=D;Ht();Ot("set");Mt();n=fn();t!==n&&Tt("Expected '{a}' and instead saw '{b}'.",J,t,n);cn(s,"");i=s.first;(!i||i.length!==1||i[0]!=="value")&&St("Expected (value) in set {a} function.",u,t);r.first=[e,s]}else{r=D;t=fn();typeof t!="string"&&Tt("Missing property name.");Ot(":");Ht();r.first=It(10)}this.first.push(r);o[t]===!0&&St("Duplicate member '{a}'.",D,t);o[t]=!0;un(t);if(D.id!==",")break;for(;;){Bt();if(D.id!==",")break;St("Extra comma.")}D.id==="}"&&!P.es5&&St("Extra comma.",J)}Ot("}",this);return this});zt("{",function(){St("Expected to see a statement and instead saw a block.");this.arity="statement";this.block=sn();this.disrupt=this.block.disrupt;Ot("}");return this});zt("var",function(){var e,t,n;b["(onevar)"]&&P.onevar?St("Too many var statements."):b["(global)"]||(b["(onevar)"]=!0);this.arity="statement";this.first=[];for(;;){Ht();n=D;t=nn();b["(global)"]&&B[t]===!1&&St("Redefinition of '{a}'.",J,t);kt(t,"unused");if(D.id==="="){e=D;e.first=n;Ht();Ot("=");Ht();D.id==="undefined"&&St("It is not necessary to initialize '{a}' to 'undefined'.",J,t);At(0).id==="="&&D.identifier&&Tt("Variable {a} was not declared correctly.",D,D.value);e.second=It(0);e.arity="infix";this.first.push(e)}else this.first.push(n);if(D.id!==",")break;Bt()}return this});zt("function",function(){_t();C&&St("Function statements should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",J);var e=nn();if(e){kt(e,"unction");Pt()}cn(this,e,!0);D.id==="("&&D.line===J.line&&Tt("Function statements are not invocable. Wrap the whole function invocation in parens.");this.arity="statement";return this});Vt("function",function(){_t();var e=tn();e&&Pt();cn(this,e);b["(loopage)"]&&St("Don't make functions within a loop.");this.arity="function";return this});zt("if",function(){var e=D;_t();Ot("(");Dt();this.arity="statement";this.first=It(20);if(D.id==="="){St("Expected a conditional expression and instead saw an assignment.");Ot("=");It(20)}Dt();Ot(")",e);Mt();this.block=on(!0);if(D.id==="else"){_t();Ot("else");Mt();this["else"]=D.id==="if"||D.id==="switch"?rn(!0):on(!0);this["else"].disrupt&&this.block.disrupt&&(this.disrupt=!0)}return this});zt("try",function(){var e,t,n,r;P.adsafe&&St("ADsafe try violation.",this);Mt();this.arity="statement";this.block=on(!1);if(D.id==="catch"){_t();Ot("catch");_t();Ot("(");Pt();n=q;q=Object.create(n);t=D.value;this.first=t;D.type!=="(identifier)"?St("Expected an identifier and instead saw '{a}'.",D,t):kt(t,"exception");Ot();Pt();Ot(")");_t();this.second=on(!1);e=!0;q=n}if(D.id==="finally"){_t();r=D;Ot("finally");_t();this.third=on(!1)}else e||Tt("Expected '{a}' and instead saw '{b}'.",D,"catch",D.value);return this});zt("while",function(){_t();var e=D;b["(breakage)"]+=1;b["(loopage)"]+=1;Ot("(");Dt();this.arity="statement";this.first=It(20);if(D.id==="="){St("Expected a conditional expression and instead saw an assignment.");Ot("=");It(20)}Dt();Ot(")",e);Mt();this.block=on(!0);this.block.disrupt&&St("Strange loop.",F);b["(breakage)"]-=1;b["(loopage)"]-=1;return this});Jt("with");zt("switch",function(){var e=!0,t,n=D;b["(breakage)"]+=1;_t();Ot("(");Dt();this.arity="statement";this.first=It(20);Dt();Ot(")",n);Mt();Ot("{");this.second=[];while(D.id==="case"){n=D;n.first=[];do{Ht();Ot("case");_t();n.first.push(It(0));Pt();Ot(":")}while(D.id==="case");Ht();n.second=sn();if(n.second&&n.second.length>0){t=n.second[n.second.length-1];t.disrupt?t.id==="break"&&(e=!1):St("Missing break after case.")}else St("Empty case");this.second.push(n)}this.second.length===0&&St("switch without cases.");if(D.id==="default"){Ht();n=D;Ot("default");Pt();Ot(":");Ht();n.second=sn();if(n.second&&n.second.length>0){t=n.second[n.second.length-1];e&&t.disrupt&&t.id!=="break"&&(this.disrupt=!0)}this.second.push(n)}b["(breakage)"]-=1;Ht();Ot("}");return this});zt("",function(){P.debug||St("All '' statements should be removed.");this.arity="statement";return this});zt("do",function(){b["(breakage)"]+=1;b["(loopage)"]+=1;Mt();this.arity="statement";this.block=on(!0);this.block.disrupt&&St("Strange loop.",F);_t();Ot("while");var e=D;Mt();Ot("(");Dt();this.first=It(0);this.first.id==="="&&St("Expected a conditional expression and instead saw an assignment.");Dt();Ot(")",e);b["(breakage)"]-=1;b["(loopage)"]-=1;return this});zt("for",function(){var e=P.forin,t,n,r=D,i;this.arity="statement";b["(breakage)"]+=1;b["(loopage)"]+=1;Ot("(");Ht(this,r);Dt();D.id==="var"&&Tt("Move all 'var' declarations to the top of the function.");if(At(0).id==="in"){i=D;switch(b[i.value]){case"unused":b[i.value]="var";break;case"var":break;default:St("Bad for in variable '{a}'.",i,i.value)}Ot();t=D;Ot("in");t.first=i;t.second=It(20);Ot(")",r);this.first=t;n=on(!0);!e&&(n.length>1||typeof n[0]!="object"||n[0].value!=="if")&&St("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",this)}else{if(D.id!==";"){this.first=[];for(;;){this.first.push(It(0,"for"));if(D.id!==",")break;Bt()}}jt();if(D.id!==";"){this.second=It(20);this.second.id==="="&&St("Expected a conditional expression and instead saw an assignment.")}jt(J);D.id===";"&&Tt("Expected '{a}' and instead saw '{b}'.",D,")",";");if(D.id!==")"){this.third=[];for(;;){this.third.push(It(0,"for"));if(D.id!==",")break;Bt()}}Dt();Ot(")",r);Mt();n=on(!0)}n.disrupt&&St("Strange loop.",F);this.block=n;b["(breakage)"]-=1;b["(loopage)"]-=1;return this});Wt("break",function(){var e=D.value;this.arity="statement";b["(breakage)"]===0&&St("Unexpected '{a}'.",D,this.value);if(D.identifier&&J.line===D.line){Mt();b[e]!=="label"?St("'{a}' is not a label.",D,e):q[e]!==b&&St("'{a}' is out of scope.",D,e);this.first=D;Ot()}return this});Wt("continue",function(){var e=D.value;this.arity="statement";b["(breakage)"]===0&&St("Unexpected '{a}'.",D,this.value);if(D.identifier&&J.line===D.line){Mt();b[e]!=="label"?St("'{a}' is not a label.",D,e):q[e]!==b&&St("'{a}' is out of scope.",D,e);this.first=D;Ot()}return this});Wt("return",function(){this.arity="statement";if(D.id!==";"&&D.line===J.line){Mt();(D.id==="/"||D.id==="(regexp)")&&St("Wrap the /regexp/ literal in parens to disambiguate the slash operator.");this.first=It(20)}return this});Wt("throw",function(){this.arity="statement";Mt();this.first=It(20);return this});Jt("void");Jt("class");Jt("const");Jt("enum");Jt("export");Jt("extends");Jt("import");Jt("super");Jt("let");Jt("yield");Jt("implements");Jt("interface");Jt("package");Jt("private");Jt("protected");Jt("public");Jt("static");l=[Nn,function(){for(;;)if(D.identifier)switch(D.value.toLowerCase()){case"url":Nn();break;case"expression":St("Unexpected expression '{a}'.",D,D.value);Ot();break;default:Ot()}else{if(D.id===";"||D.id==="!"||D.id==="(end)"||D.id==="}")return!0;Ot()}}];h=["none","dashed","dotted","double","groove","hidden","inset","outset","ridge","solid"];p=["auto","always","avoid","left","right"];v={all:!0,braille:!0,embossed:!0,handheld:!0,print:!0,projection:!0,screen:!0,speech:!0,tty:!0,tv:!0};m=["auto","hidden","scroll","visible"];f={background:[!0,"background-attachment","background-color","background-image","background-position","background-repeat"],"background-attachment":["scroll","fixed"],"background-color":["transparent",mn],"background-image":["none",Nn],"background-position":[2,[gn,"top","bottom","left","right","center"]],"background-repeat":["repeat","repeat-x","repeat-y","no-repeat"],border:[!0,"border-color","border-style","border-width"],"border-bottom":[!0,"border-bottom-color","border-bottom-style","border-bottom-width"],"border-bottom-color":mn,"border-bottom-style":h,"border-bottom-width":bn,"border-collapse":["collapse","separate"],"border-color":["transparent",4,mn],"border-left":[!0,"border-left-color","border-left-style","border-left-width"],"border-left-color":mn,"border-left-style":h,"border-left-width":bn,"border-right":[!0,"border-right-color","border-right-style","border-right-width"],"border-right-color":mn,"border-right-style":h,"border-right-width":bn,"border-spacing":[2,gn],"border-style":[4,h],"border-top":[!0,"border-top-color","border-top-style","border-top-width"],"border-top-color":mn,"border-top-style":h,"border-top-width":bn,"border-width":[4,bn],bottom:[gn,"auto"],"caption-side":["bottom","left","right","top"],clear:["both","left","none","right"],clip:[Tn,"auto"],color:mn,content:["open-quote","close-quote","no-open-quote","no-close-quote",vn,Nn,xn,En],"counter-increment":[pn,"none"],"counter-reset":[pn,"none"],cursor:[Nn,"auto","crosshair","default","e-resize","help","move","n-resize","ne-resize","nw-resize","pointer","s-resize","se-resize","sw-resize","w-resize","text","wait"],direction:["ltr","rtl"],display:["block","compact","inline","inline-block","inline-table","list-item","marker","none","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],"empty-cells":["show","hide"],"float":["left","none","right"],font:["caption","icon","menu","message-box","small-caption","status-bar",!0,"font-size","font-style","font-weight","font-family"],"font-family":Sn,"font-size":["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller",gn],"font-size-adjust":["none",dn],"font-stretch":["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded"],"font-style":["normal","italic","oblique"],"font-variant":["normal","small-caps"],"font-weight":["normal","bold","bolder","lighter",dn],height:[gn,"auto"],left:[gn,"auto"],"letter-spacing":["normal",gn],"line-height":["normal",yn],"list-style":[!0,"list-style-image","list-style-position","list-style-type"],"list-style-image":["none",Nn],"list-style-position":["inside","outside"],"list-style-type":["circle","disc","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","hebrew","katakana","hiragana-iroha","katakana-oroha","none"],margin:[4,wn],"margin-bottom":wn,"margin-left":wn,"margin-right":wn,"margin-top":wn,"marker-offset":[gn,"auto"],"max-height":[gn,"none"],"max-width":[gn,"none"],"min-height":gn,"min-width":gn,opacity:dn,outline:[!0,"outline-color","outline-style","outline-width"],"outline-color":["invert",mn],"outline-style":["dashed","dotted","double","groove","inset","none","outset","ridge","solid"],"outline-width":bn,overflow:m,"overflow-x":m,"overflow-y":m,padding:[4,gn],"padding-bottom":gn,"padding-left":gn,"padding-right":gn,"padding-top":gn,"page-break-after":p,"page-break-before":p,position:["absolute","fixed","relative","static"],quotes:[8,vn],right:[gn,"auto"],"table-layout":["auto","fixed"],"text-align":["center","justify","left","right"],"text-decoration":["none","underline","overline","line-through","blink"],"text-indent":gn,"text-shadow":["none",4,[mn,gn]],"text-transform":["capitalize","uppercase","lowercase","none"],top:[gn,"auto"],"unicode-bidi":["normal","embed","bidi-override"],"vertical-align":["baseline","bottom","sub","super","top","text-top","middle","text-bottom",gn],visibility:["visible","hidden","collapse"],"white-space":["normal","nowrap","pre","pre-line","pre-wrap","inherit"],width:[gn,"auto"],"word-spacing":["normal",gn],"word-wrap":["break-word","normal"],"z-index":["auto",dn]};var In=function(r,s){var o,u,a;JSLINT.errors=[];JSLINT.tree="";B=Object.create(z);if(s){o=s.predef;if(o)if(Array.isArray(o))for(u=0;u<o.length;u+=1)B[o[u]]=!0;else if(typeof o=="object"){a=Object.keys(o);for(u=0;u<a.length;u+=1)B[a[u]]=!!o[a]}s.adsafe&&(s.safe=!0);if(s.safe){s.browser=s.css=s.debug=s.devel=s.evil=s.forin=s.on=s.rhino=s.windows=s.sub=s.widget=!1;s.nomen=s.safe=s.undef=!0;B.Date=B.eval=B.Function=B.Object=null;B.ADSAFE=B.lib=!1}P=s}else P={};P.indent=P.indent||4;P.maxerr=P.maxerr||50;e="";t=!1;n=!1;i={};if(P.approved)for(u=0;u<P.approved.length;u+=1)i[P.approved[u]]=P.approved[u];else i.test="test";$="";for(u=0;u<P.indent;u+=1)$+=" ";S=Object.create(B);q=S;b={"(global)":!0,"(name)":"(global)","(scope)":q,"(breakage)":0,"(loopage)":0};E=[b];T={};K=[];R=!1;Z=!1;U=null;M={};_=null;N={};C=!1;O=[];k=!1;Q=0;Ct.init(r);j=!0;X=!1;F=J=D=V["(begin)"];wt();try{Ot();if(D.value.charAt(0)==="<"){Fn();P.adsafe&&!n&&St("ADsafe violation: Missing ADSAFE.go.",this)}else switch(D.id){case"{":case"[":k=!0;hn();break;case"@":case"*":case"#":case".":case":":Z="style";Ot();(J.id!=="@"||!D.identifier||D.value!=="charset"||J.line!==1||J.from!==1)&&Tt("A css file should begin with @charset 'UTF-8';");Ot();D.type!=="(string)"&&D.value!=="UTF-8"&&Tt("A css file should begin with @charset 'UTF-8';"
);Ot();jt();Dn();break;default:P.adsafe&&P.fragment&&Tt("Expected '{a}' and instead saw '{b}'.",D,"<div>",D.value);if(D.value==="use strict"){St('Use the function form of "use strict".');Ft()}JSLINT.tree=sn("lib");JSLINT.tree.disrupt&&St("Weird program.",F)}Ot("(end)")}catch(f){f&&JSLINT.errors.push({reason:f.message,line:f.line||D.line,character:f.character||D.from},null)}return JSLINT.errors.length===0};In.data=function(){var e={functions:[]},t,n,r=[],i,s,o,u=[],a,f=[],l;In.errors.length&&(e.errors=In.errors);k&&(e.json=!0);for(a in N)yt(N,a)&&r.push({name:a,line:N[a]});r.length>0&&(e.implieds=r);K.length>0&&(e.urls=K);n=Object.keys(q);n.length>0&&(e.globals=n);for(s=1;s<E.length;s+=1){i=E[s];t={};for(o=0;o<w.length;o+=1)t[w[o]]=[];for(a in i)if(yt(i,a)&&a.charAt(0)!=="("){l=i[a];l==="unction"&&(l="unused");if(Array.isArray(t[l])){t[l].push(a);l==="unused"&&f.push({name:a,line:i["(line)"],"function":i["(name)"]})}}for(o=0;o<w.length;o+=1)t[w[o]].length===0&&delete t[w[o]];t.name=i["(name)"];t.param=i["(params)"];t.line=i["(line)"];t.last=i["(last)"];e.functions.push(t)}f.length>0&&(e.unused=f);u=[];for(a in M)if(typeof M[a]=="number"){e.member=M;break}return e};In.report=function(e){function d(e,t){var n,r,i;if(t){h.push("<div><i>"+e+"</i> ");t=t.sort();for(r=0;r<t.length;r+=1)if(t[r]!==i){i=t[r];h.push((n?", ":"")+i);n=!0}h.push("</div>")}}var t=In.data(),n=[],r,i,s,o,u,a,f,l="",c,h=[],p;if(t.errors||t.implieds||t.unused){s=!0;h.push("<div id=errors><i>Error:</i>");if(t.errors)for(u=0;u<t.errors.length;u+=1){r=t.errors[u];if(r){i=r.evidence||"";h.push("<p>Problem"+(isFinite(r.line)?" at line "+r.line+" character "+r.character:"")+": "+r.reason.entityify()+"</p><p class=evidence>"+(i&&(i.length>80?i.slice(0,77)+"...":i).entityify())+"</p>")}}if(t.implieds){p=[];for(u=0;u<t.implieds.length;u+=1)p[u]="<code>"+t.implieds[u].name+"</code>&nbsp;<i>"+t.implieds[u].line+"</i>";h.push("<p><i>Implied global:</i> "+p.join(", ")+"</p>")}if(t.unused){p=[];for(u=0;u<t.unused.length;u+=1)p[u]="<code><u>"+t.unused[u].name+"</u></code>&nbsp;<i>"+t.unused[u].line+" </i> <small>"+t.unused[u]["function"]+"</small>";h.push("<p><i>Unused variable:</i> "+p.join(", ")+"</p>")}t.json&&h.push("<p>JSON: bad.</p>");h.push("</div>")}if(!e){h.push("<br><div id=functions>");t.urls&&d("URLs<br>",t.urls,"<br>");Z==="style"?h.push("<p>CSS.</p>"):t.json&&!s?h.push("<p>JSON: good.</p>"):t.globals?h.push("<div><i>Global</i> "+t.globals.sort().join(", ")+"</div>"):h.push("<div><i>No new global variables introduced.</i></div>");for(u=0;u<t.functions.length;u+=1){o=t.functions[u];h.push("<br><div class=function><i>"+o.line+"-"+o.last+"</i> "+(o.name||"")+"("+(o.param?o.param.join(", "):"")+")</div>");d("<big><b>Unused</b></big>",o.unused);d("Closure",o.closure);d("Variable",o["var"]);d("Exception",o.exception);d("Outer",o.outer);d("Global",o.global);d("Label",o.label)}if(t.member){n=Object.keys(t.member);if(n.length){n=n.sort();l="<br><pre id=members>/*members ";f=10;for(u=0;u<n.length;u+=1){a=n[u];c=a.name();if(f+c.length>72){h.push(l+"<br>");l="    ";f=1}f+=c.length+2;t.member[a]===1&&(c="<i>"+c+"</i>");u<n.length-1&&(c+=", ");l+=c}h.push(l+"<br>*/</pre>")}h.push("</div>")}}return h.join("")};In.jslint=In;In.edition="2011-01-09";return In}(),ADSAFE=function(){"use strict";function y(e){ADSAFE.log("ADsafe error: "+(e||"ADsafe violation."));throw{name:"ADsafe",message:e||"ADsafe violation."}}function b(e){typeof e!="string"&&y("ADsafe string violation.");return e}function w(e,t){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,b(t))}function E(e){return n[e]||(typeof e!="number"||e<0)&&(typeof e!="string"||e.charAt(0)==="_"||e.slice(-1)==="_"||e.charAt(0)==="-")}function S(e,t){return typeof e!="object"||E(t)}function x(e){e.window&&y()}function T(e){if(e===i)return r;i=e;r=e.currentStyle||s.getComputedStyle(e,"");return r}function N(e,t,n){n||t(e);e=e.firstChild;while(e){N(e,t);e=e.nextSibling}}function C(e){N(e,function(e){e.tagName&&(e["___ on ___"]=e.change=null)})}function k(e,t){var n,r=[],i,s=t?/^\s*(?:([\*\/])|\[\s*([a-z][0-9a-z_\-]*)\s*(?:([!*~|$\^]?\=)\s*([0-9A-Za-z_\-*%&;.\/:!]+)\s*)?\]|#\s*([A-Z]+_[A-Z0-9]+)|:\s*([a-z]+)|([.&_>\+]?)\s*([a-z][0-9a-z\-]*))\s*/:/^\s*(?:([\*\/])|\[\s*([a-z][0-9a-z_\-]*)\s*(?:([!*~|$\^]?\=)\s*([0-9A-Za-z_\-*%&;.\/:!]+)\s*)?\]|#\s*([\-A-Za-z0-9_]+)|:\s*([a-z]+)|([.&_>\+]?)\s*([a-z][0-9a-z\-]*))\s*/;do{n=s.exec(b(e));n||y("ADsafe: Bad query:"+e);if(n[1])i={op:n[1]};else if(n[2])i=n[3]?{op:"["+n[3],name:n[2],value:n[4]}:{op:"[",name:n[2]};else if(n[5]){(r.length>0||n[5].length<=t.length||n[5].slice(0,t.length)!==t)&&y("ADsafe: Bad query: "+e);i={op:"#",name:n[5]}}else n[6]?i={op:":"+n[6]}:i={op:n[7],name:n[8]};r.push(i);e=e.slice(n[0].length)}while(e);return r}function L(e,t){var n,r,i,s;for(i=0;i<e.length;i+=1){n=e[i];h=n.name;r=f[n.op];if(typeof r=="function"){v&&y("ADsafe: Query violation: *"+n.op+(n.name||""));d=[];for(s=0;s<t.length;s+=1)r(t[s])}else{g=n.value;u=!1;r=p[n.op];if(typeof r!="function")switch(n.op){case":first":d=t.slice(0,1);break;case":rest":d=t.slice(1);break;default:y("ADsafe: Query violation: :"+n.op)}else{d=[];for(s=0;s<t.length;s+=1)r(t[s])&&d.push(t[s])}}t=d}return d}function A(e,t){function n(e){this.___nodes___=e;this.___star___=v&&e.length>1;v=!1}t?e.tagName!=="DIV"&&y("ADsafe: Bad node."):e.tagName!=="BODY"&&y("ADsafe: Bad node.");var r=!0,i,s=function(e){var t,i,s,u,f,l=e||event,c=l.type;f=l.target||l.srcElement;i=new n([f]);s=i;switch(c){case"mousedown":r=!0;document.selection&&(m=document.selection.createRange());break;case"focus":case"focusin":r=!0;a=f;l.cancelBubble=!1;c="focus";break;case"blur":case"focusout":r=!1;a=null;c="blur";break;case"keypress":r=!0;a=f;t=String.fromCharCode(l.charCode||l.keyCode);switch(t){case"\r":case"\n":c="enterkey";break;case"":c="escapekey"}break;case"click":r=!0}l.cancelBubble&&l.stopPropagation&&l.stopPropagation();u={altKey:l.altKey,ctrlKey:l.ctrlKey,bubble:function(){try{var e=s.getParent(),t=e.___nodes___[0];s=e;u.that=s;t["___ on ___"]&&t["___ on ___"][c]?s.fire(u):u.bubble()}catch(n){y(n)}},key:t,preventDefault:function(){l.preventDefault&&l.preventDefault();l.returnValue=!1},shiftKey:l.shiftKey,target:i,that:s,type:c,x:l.clientX,y:l.clientY};if(f["___ on ___"]&&f["___ on ___"][u.type])i.fire(u);else for(;;){f=f.parentNode;if(!f)break;if(f["___ on ___"]&&f["___ on ___"][u.type]){s=new n([f]);u.that=s;s.fire(u);break}if(f["___adsafe root___"])break}if(u.type==="escapekey"){o&&o.remove();o=null}s=f=u=l=null;return};e["___adsafe root___"]="___adsafe root___";n.prototype={append:function(e){x(this);var t=this.___nodes___,n=!1,r,i,s,o;if(t.length===0||!e)return this;if(e instanceof Array){e.length!==t.length&&y("ADsafe: Array length: "+t.length+"-"+g.length);for(r=0;r<t.length;r+=1){o=e[r].___nodes___;for(i=0;i<o.length;i+=1)t[r].appendChild(o[i])}}else{o=e.___nodes___;for(r=0;r<t.length;r+=1){s=t[r];for(i=0;i<o.length;i+=1)s.appendChild(n?o[i].cloneNode(!0):o[i]);n=!0}}return this},blur:function(){x(this);var e=this.___nodes___,t,n;a=null;for(t=0;t<e.length;t+=1){n=e[t];n.blur&&n.blur()}return this},check:function(e){x(this);var t=this.___nodes___,n,r;if(e instanceof Array){e.length!==t.length&&y("ADsafe: Array length: "+t.length+"-"+e.length);for(n=0;n<t.length;n+=1){r=t[n];r.tagName&&(r.checked=!!e[n])}}else for(n=0;n<t.length;n+=1){r=t[n];r.tagName&&(r.checked=!!e)}return this},"class":function(e){x(this);var t=this.___nodes___,n,r;if(e instanceof Array){e.length!==t.length&&y("ADsafe: Array length: "+t.length+"-"+e.length);for(n=0;n<t.length;n+=1){/url/i.test(b(e[n]))&&y("ADsafe error.");r=t[n];r.tagName&&(r.className=e[n])}}else{/url/i.test(b(e))&&y("ADsafe error.");for(n=0;n<t.length;n+=1){r=t[n];r.tagName&&(r.className=e)}}return this},count:function(){x(this);return this.___nodes___.length},each:function(e){x(this);var t=this.___nodes___,r;if(typeof e=="function"){for(r=0;r<t.length;r+=1)e(new n([t[r]]));return this}y()},empty:function(){x(this);var e=this.___nodes___,t,n;if(g instanceof Array){g.length!==e.length&&y("ADsafe: Array length: "+e.length+"-"+g.length);for(t=0;t<e.length;t+=1){n=e[t];while(n.firstChild){C(n);n.removeChild(n.firstChild)}}}else for(t=0;t<e.length;t+=1){n=e[t];while(n.firstChild){C(n);n.removeChild(n.firstChild)}}return this},enable:function(e){x(this);var t=this.___nodes___,n,r;if(e instanceof Array){e.length!==t.length&&y("ADsafe: Array length: "+t.length+"-"+e.length);for(n=0;n<t.length;n+=1){r=t[n];r.tagName&&(r.disabled=!e[n])}}else for(n=0;n<t.length;n+=1){r=t[n];r.tagName&&(r.disabled=!e)}return this},ephemeral:function(){x(this);o&&o.remove();o=this;return this},explode:function(){x(this);var e=[],t=this.___nodes___,r;for(r=0;r<t.length;r+=1)e[r]=new n([t[r]]);return e},fire:function(e){x(this);var t,n,r,i,s,o,u,a;if(typeof e=="string"){a=e;e={type:a}}else typeof e=="object"?a=e.type:y();n=this.___nodes___;s=n.length;for(r=0;r<s;r+=1){o=n[r];u=o["___ on ___"];if(w(u,a)){t=u[a];for(i=0;i<t.length;i+=1)t[i].call(this,e)}}return this},focus:function(){x(this);var e=this.___nodes___;if(e.length===1&&r){a=e[0].focus();return this}y()},fragment:function(){x(this);return new n([document.createDocumentFragment()])},getCheck:function(){return this.getChecks()[0]},getChecks:function(){x(this);var e=[],t=this.___nodes___,n;for(n=0;n<t.length;n+=1)e[n]=t[n].checked;return e},getClass:function(){return this.getClasses()[0]},getClasses:function(){x(this);var e=[],t=this.___nodes___,n;for(n=0;n<t.length;n+=1)e[n]=t[n].className;return e},getMark:function(){return this.getMarks()[0]},getMarks:function(){x(this);var e=[],t=this.___nodes___,n;for(n=0;n<t.length;n+=1)e[n]=t[n]["_adsafe mark_"];return e},getName:function(){return this.getNames()[0]},getNames:function(){x(this);var e=[],t=this.___nodes___,n;for(n=0;n<t.length;n+=1)e[n]=t[n].name;return e},getOffsetHeight:function(){return this.getOffsetHeights()[0]},getOffsetHeights:function(){x(this);var e=[],t=this.___nodes___,n;for(n=0;n<t.length;n+=1)e[n]=t[n].offsetHeight;return e},getOffsetWidth:function(){return this.getOffsetWidths()[0]},getOffsetWidths:function(){x(this);var e=[],t=this.___nodes___,n;for(n=0;n<t.length;n+=1)e[n]=t[n].offsetWidth;return e},getParent:function(){x(this);var e=[],t=this.___nodes___,r,i;for(r=0;r<t.length;r+=1){i=t[r].parentNode;i["___adsafe root___"]&&y("ADsafe parent violation.");e[r]=i}return new n(e)},getSelection:function(){x(this);var e=this.___nodes___,t,n,i,s;if(e.length===1&&r){n=e[0];if(typeof n.selectionStart=="number"){i=n.selectionStart;t=n.selectionEnd;return n.value.slice(i,t)}s=n.createTextRange();s.expand("textedit");if(s.inRange(m))return m.text}return null},getStyle:function(e){return this.getStyles(e)[0]},getStyles:function(e){x(this);E(e)&&y("ADsafe style violation.");var t=[],n=this.___nodes___,r,i,s;for(r=0;r<n.length;r+=1){i=n[r];if(i.tagName){s=e!=="float"?T(i)[e]:T(i).cssFloat||T(i).styleFloat;typeof s=="string"&&(t[r]=s)}}return t},getTagName:function(){return this.getTagNames()[0]},getTagNames:function(){x(this);var e=[],t=this.___nodes___,n,r;for(n=0;n<t.length;n+=1){r=t[n].tagName;e[n]=typeof r=="string"?r.toLowerCase():r}return e},getTitle:function(){return this.getTitles()[0]},getTitles:function(){x(this);var e=[],t=this.___nodes___,n;for(n=0;n<t.length;n+=1)e[n]=t[n].title;return e},getValue:function(){return this.getValues()[0]},getValues:function(){x(this);var e=[],t=this.___nodes___,n,r;for(n=0;n<t.length;n+=1){r=t[n];if(r.nodeName==="#text")e[n]=r.nodeValue;else if(r.tagName&&r.type!=="password"){e[n]=r.value;e[n]===undefined&&r.firstChild&&r.firstChild.nodeName==="#text"&&(e[n]=r.firstChild.nodeValue)}}return e},klass:function(e){return this["class"](e)},mark:function(e){x(this);var t=this.___nodes___,n,r;if(e instanceof Array){e.length!==t.length&&y("ADsafe: Array length: "+t.length+"-"+e.length);for(n=0;n<t.length;n+=1){r=t[n];r.tagName&&(r["_adsafe mark_"]=String(e[n]))}}else for(n=0;n<t.length;n+=1){r=t[n];r.tagName&&(r["_adsafe mark_"]=String(e))}return this},off:function(e){x(this);var t=this.___nodes___,n,r;for(n=0;n<t.length;n+=1){r=t[n];typeof e=="string"?typeof r["___ on ___"]&&(r["___ on ___"][e]=null):r["___ on ___"]=null}return this},on:function(e,t){x(this);(typeof e!="string"||typeof t!="function")&&y();var n=this.___nodes___,r,i,o,u;for(r=0;r<n.length;r+=1){i=n[r];if(e==="change"){u="on"+e;i[u]!==s&&(i[u]=s)}o=i["___ on ___"];if(!o){o={};i["___ on ___"]=o}w(o,e)?o[e].push(t):o[e]=[t]}return this},protect:function(){x(this);var e=this.___nodes___,t;for(t=0;t<e.length;t+=1)e[t]["___adsafe root___"]="___adsafe root___";return this},q:function(e){x(this);v=this.___star___;return new n(L(k(b(e),t),this.___nodes___))},remove:function(){x(this);this.replace()},replace:function(e){x(this);var t=this.___nodes___,n=!1,r,i,s,o,u,a;if(t.length===0)return;for(r=0;r<t.length;r+=1)C(t[r]);if(!e||e.length===0||e.___nodes___&&e.___nodes___.length===0)for(r=0;r<t.length;r+=1){o=t[r];C(o);o.parentNode&&o.parentNode.removeChild(o)}else if(e instanceof Array){e.length!==t.length&&y("ADsafe: Array length: "+t.length+"-"+g.length);for(r=0;r<t.length;r+=1){o=t[r];u=o.parentNode;C(o);if(u){a=e[r].___nodes___;if(a.length>0){s=a[0];u.replaceChild(s,o);for(i=1;i<a.length;i+=1){o=s;s=a[i];u.insertBefore(s,o.nextSibling)}}else u.removeChild(o)}}}else{a=e.___nodes___;for(r=0;r<t.length;r+=1){o=t[r];C(o);u=o.parentNode;if(u){s=n?a[0].cloneNode(!0):a[0];u.replaceChild(s,o);for(i=1;i<a.length;i+=1){o=s;s=n?a[i].clone(!0):a[i];u.insertBefore(s,o.nextSibling)}n=!0}}}return this},select:function(){x(this);var e=this.___nodes___;(e.length!==1||!r)&&y();e[0].focus();e[0].select();return this},selection:function(e){x(this);b(e);var t=this.___nodes___,n,i,s,o,u;if(t.length===1&&r){i=t[0];if(typeof i.selectionStart=="number"){o=i.selectionStart;n=i.selectionEnd;s=i.value;i.value=s.slice(0,o)+e+s.slice(n);i.selectionStart=i.selectionEnd=o+e.length;i.focus()}else{u=i.createTextRange();u.expand("textedit");if(u.inRange(m)){m.select();m.text=e;m.select()}}}return this},style:function(e,t){x(this);E(e)&&y("ADsafe style violation.");(t===undefined||/url/i.test(b(t)))&&y();var n=this.___nodes___,r,i,s;if(t instanceof Array){t.length!==n.length&&y("ADsafe: Array length: "+n.length+"-"+t.length);for(r=0;r<n.length;r+=1){i=n[r];s=b(t[r]);/url/i.test(s)&&y();i.tagName&&(e!=="float"?i.style[e]=s:i.style.cssFloat=i.style.styleFloat=s)}}else{s=b(t);/url/i.test(s)&&y();for(r=0;r<n.length;r+=1){i=n[r];i.tagName&&(e!=="float"?i.style[e]=s:i.style.cssFloat=i.style.styleFloat=s)}}return this},tag:function(e,t,r){x(this);var i;typeof e!="string"&&y();c[e]!==!0&&y("ADsafe: Bad tag: "+e);i=document.createElement(e);if(r){i.autocomplete="off";i.name=b(r)}t&&(i.type=b(t));return new n([i])},text:function(e){x(this);var t,r;if(e instanceof Array){t=[];for(r=0;r<e.length;r+=1)t[r]=document.createTextNode(b(e[r]));return new n(t)}return new n([document.createTextNode(b(e))])},title:function(e){x(this);var t=this.___nodes___,n,r;if(e instanceof Array){e.length!==t.length&&y("ADsafe: Array length: "+t.length+"-"+e.length);for(n=0;n<t.length;n+=1){r=t[n];r.tagName&&(r.title=b(e[n]))}}else{b(e);for(n=0;n<t.length;n+=1){r=t[n];r.tagName&&(r.title=e)}}return this},value:function(e){x(this);e===undefined&&y();var t=this.___nodes___,n,r;if(e instanceof Array&&t.length===e.length)for(n=0;n<t.length;n+=1){r=t[n];if(r.tagName){if(r.type!=="password")if(typeof r.value=="string")r.value=e[n];else{while(r.firstChild){C(r);r.removeChild(r.firstChild)}r.appendChild(document.createTextNode(String(e[n])))}}else r.nodeName==="#text"&&(r.nodeValue=String(e[n]))}else{e=String(e);for(n=0;n<t.length;n+=1){r=t[n];if(r.tagName)if(typeof r.value=="string")r.value=e;else{while(r.firstChild){C(r);r.removeChild(r.firstChild)}r.appendChild(document.createTextNode(e))}else r.nodeName==="#text"&&(r.nodeValue=e)}}return this}};i={append:function(t){var n=t.___nodes___,r,s;for(r=0;r<n.length;r+=1){s=n[r];if(typeof s=="string"||typeof s=="number")s=document.createTextNode(String(s));e.appendChild(s)}return i},combine:function(e){(!e||!e.length)&&y("ADsafe: Bad combination.");var t=e[0].___nodes___,r;for(r=r;r<e.length;r+=1)t=t.concat(e[r].___nodes___);return new n(t)},count:function(){return 1},ephemeral:function(e){o&&o.remove();o=e;return i},fragment:function(){return new n([document.createDocumentFragment()])},prepend:function(t){var n=t.___nodes___,r;for(r=0;r<n.length;r+=1)e.insertBefore(n[r],e.firstChild);return i},q:function(r){v=!1;var i=k(r,t);typeof f[i[0].op]!="function"&&y("ADsafe: Bad query: "+i[0]);return new n(L(i,[e]))},remove:function(){C(e);e.parent.removeElement(e);e=null},row:function(e){var t=document.createElement("tr"),r,i;for(i=0;i<e.length;i+=1){r=document.createElement("td");r.appendChild(document.createTextNode(String(e[i])));t.appendChild(r)}return new n([t])},tag:function(e,t,r){var i;typeof e!="string"&&y();c[e]!==!0&&y("ADsafe: Bad tag: "+e);i=document.createElement(e);if(r){i.autocomplete="off";i.name=r}t&&(i.type=t);return new n([i])},text:function(e){var t,r;if(e instanceof Array){t=[];for(r=0;r<e.length;r+=1)t[r]=document.createTextNode(b(e[r]));return new n(t)}return new n([document.createTextNode(b(e))])}};if(typeof e.addEventListener=="function"){e.addEventListener("focus",s,!0);e.addEventListener("blur",s,!0);e.addEventListener("mouseover",s,!0);e.addEventListener("mouseout",s,!0);e.addEventListener("mouseup",s,!0);e.addEventListener("mousedown",s,!0);e.addEventListener("mousemove",s,!0);e.addEventListener("click",s,!0);e.addEventListener("dblclick",s,!0);e.addEventListener("keypress",s,!0)}else e.onfocusin=e.onfocusout=e.onmouseover=e.onmouseout=e.onmouseup=e.onmousedown=e.onmousemove=e.onclick=e.ondblclick=e.onkeypress=s;return[i,n.prototype]}function O(){}var e,t,n={arguments:!0,callee:!0,caller:!0,constructor:!0,eval:!0,prototype:!0,stack:!0,unwatch:!0,valueOf:!0,watch:!0},r,i,s=document.defaultView,o,u,a,f,l=[],c={a:!0,abbr:!0,acronym:!0,address:!0,area:!0,b:!0,bdo:!0,big:!0,blockquote:!0,br:!0,button:!0,canvas:!0,caption:!0,center:!0,cite:!0,code:!0,col:!0,colgroup:!0,dd:!0,del:!0,dfn:!0,dir:!0,div:!0,dl:!0,dt:!0,em:!0,fieldset:!0,font:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,hr:!0,i:!0,img:!0,input:!0,ins:!0,kbd:!0,label:!0,legend:!0,li:!0,map:!0,menu:!0,object:!0,ol:!0,optgroup:!0,option:!0,p:!0,pre:!0,q:!0,samp:!0,select:!0,small:!0,span:!0,strong:!0,sub:!0,sup:!0,table:!0,tbody:!0,td:!0,textarea:!0,tfoot:!0,th:!0,thead:!0,tr:!0,tt:!0,u:!0,ul:!0,"var":!0},h,p,d,v,m,g;(function M(e){var t=Array.prototype[e];Array.prototype[e]=function(){return!this||this.window?y():t.apply(this,arguments)};return M})("concat")("every")("filter")("forEach")("map")("reduce")("reduceRight")("reverse")("slice")("some")("sort");f={"":function(e){var t=e.getElementsByTagName(h),n;for(n=0;n<1e3;n+=1){if(!t[n])break;d.push(t[n])}},"+":function(e){e=e.nextSibling;h=h.toUpperCase();while(e&&!e.tagName)e=e.nextSibling;e&&e.tagName===h&&d.push(e)},">":function(e){e=e.firstChild;h=h.toUpperCase();while(e){e.tagName===h&&d.push(e);e=e.nextSibling}},"#":function(e){var t=document.getElementById(h);t.tagName&&d.push(t)},"/":function(e){var t=e.childNodes,n;for(n=0;n<t.length;n+=1)d.push(t[n])},"*":function(e){v=!0;N(e,function(e){d.push(e)},!0)}};p={".":function(e){return(" "+e.className+" ").indexOf(" "+h+" ")>=0},"&":function(e){return e.name===h},_:function(e){return e.type===h},"[":function(e){return typeof e[h]=="string"},"[=":function(e){var t=e[h];return typeof t=="string"&&t===g},"[!=":function(e){var t=e[h];return typeof t=="string"&&t!==g},"[^=":function(e){var t=e[h];return typeof t=="string"&&t.slice(0,t.length)===g},"[$=":function(e){var t=e[h];return typeof t=="string"&&t.slice(-t.length)===g},"[*=":function(e){var t=e[h];return typeof t=="string"&&t.slice.indexOf(g)>=0},"[~=":function(e){var t=e[h];return typeof t=="string"&&(" "+t+" ").slice.indexOf(" "+g+" ")>=0},"[|=":function(e){var t=e[h];return typeof t=="string"&&("-"+t+"-").slice.indexOf("-"+g+"-")>=0},":blur":function(e){return e!==a},":checked":function(e){return e.checked},":disabled":function(e){return e.tagName&&e.disabled},":enabled":function(e){return e.tagName&&!e.disabled},":even":function(e){var t;if(e.tagName){t=u;u=!u;return t}return!1},":focus":function(e){return e===a},":hidden":function(e){return e.tagName&&T(e).visibility!=="visible"},":odd":function(e){if(e.tagName){u=!u;return u}return!1},":tag":function(e){return e.tagName},":text":function(e){return e.nodeName==="#text"},":trim":function(e){return e.nodeName!=="#text"||/\W/.test(e.nodeValue)},":unchecked":function(e){return e.tagName&&!e.checked},":visible":function(e){return e.tagName&&T(e).visibility==="visible"}};return{create:typeof Object.create=="function"?Object.create:function(e){O.prototype=typeof e=="object"&&e?e:Object.prototype;return new O},get:function(e,t){x(e);if(arguments.length===2&&!S(e,t))return e[t];y()},go:function(n,r){var i,s,o,u,a;e&&e!==n&&y();o=document.getElementById(n);o.tagName!=="DIV"&&y();e=null;a=o.getElementsByTagName("script");u=a.length-1;u<0&&y();do{o.removeChild(a[u]);u-=1}while(u>=0);o=A(o,n);i=o[0];for(u=0;u<l.length;u+=1){s=l[u];if(typeof s=="function")try{s(n,i,t,o[1])}catch(f){ADSAFE.log(f)}}try{r(i,t)}catch(c){ADSAFE.log(c)}o=null;t=null},id:function(n){e&&y();e=n;t={}},isArray:Array.isArray||function(e){return Object.prototype.toString.apply(e)==="[object Array]"},later:function(e,t){typeof e=="function"?setTimeout(e,t||0):y()},lib:function(n,r){(!e||E(n))&&y("ADsafe lib violation.");t[n]=r(t)},log:function(t){window.console?console.log(t):typeof Debug=="object"?Debug.writeln(t):typeof opera=="opera"&&opera.postError(t)},remove:function(e,t){if(arguments.length===2&&!S(e,t)){delete e[t];return}y()},set:function(e,t,n){x(e);if(arguments.length===3&&!S(e,t)){e[t]=n;return}y()},_intercept:function(e){l.push(e)}}}();ADSAFE._intercept(function(e,t,n,r){"use strict";n.cookie={get:function(){var t=" "+document.cookie+";",n=t.indexOf(" "+e+"="),r;try{if(n>=0){n+=e.length+2;r=JSON.parse(t.slice(n,t.indexOf(";",n)))}}catch(i){}return r},set:function(t){var n,r=JSON.stringify(t).replace(/[=]/g,"\\u003d").replace(/[;]/g,"\\u003b");if(r.length<2e3){n=new Date;n.setTime(n.getTime()+1e9);document.cookie=e+"="+r+";expires="+n.toGMTString()}}}});ADSAFE._intercept(function(e,t,n,r){"use strict";if(e==="JSLINT_"){n.jslint=function(e,t,n){JSLINT(e,t);n.___nodes___[0].innerHTML=JSLINT.report()};n.edition=function(){return JSLINT.edition};n.tree=function(){return JSLINT.tree}}});