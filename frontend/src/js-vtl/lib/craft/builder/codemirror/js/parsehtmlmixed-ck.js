var HTMLMixedParser=Editor.Parser=function(){function t(){var t=["XMLParser"];for(var n in e)t.push(e[n]);for(var r in t)if(!window[t[r]])throw new Error(t[r]+" parser must be loaded for HTML mixed mode to work.");XMLParser.configure({useHTMLKludges:!0})}function n(n){function u(){var t=r.next();if(t.content=="<")s=!0;else if(t.style=="xml-tagname"&&s===!0)s=t.content.toLowerCase();else if(t.content==">"){if(e[s]){var n=window[e[s]];o.next=a(n,"</"+s)}s=!1}return t}function a(e,t){var s=r.indentation();i=e.make(n,s+indentUnit);return function(){if(n.lookAhead(t,!1,!1,!0)){i=null;o.next=u;return u()}var e=i.next(),r=e.value.lastIndexOf("<"),a=Math.min(e.value.length-r,t.length);if(r!=-1&&e.value.slice(r,r+a).toLowerCase()==t.slice(0,a)&&n.lookAhead(t.slice(a),!1,!1,!0)){n.push(e.value.slice(r));e.value=e.value.slice(0,r)}if(e.indentation){var f=e.indentation;e.indentation=function(e){return e=="</"?s:f(e)}}return e}}function f(){var e=r.copy(),t=i&&i.copy(),u=o.next,a=s;return function(f){n=f;r=e(f);i=t&&t(f);o.next=u;s=a;return o}}t();var r=XMLParser.make(n),i=null,s=!1,o={next:u,copy:f};return o}var e={script:"JSParser",style:"CSSParser"};return{make:n,electricChars:"{}/:",configure:function(t){t.triggers&&(e=t.triggers)}}}();