window.onload=function(){Crafty.init(550,440);Crafty.sprite(64,"images/fruit.png",{banana:[0,0],apple:[1,0],watermelon:[2,0],orange:[3,0],coconut:[4,0],lemon:[5,0]});Crafty.background("url('images/bg.png') no-repeat");var e=Crafty.e("2D, DOM, Text").attr({x:5,y:5,w:Crafty.viewport.width,h:50}).text("Score: 0"),t=0;Crafty.c("Fruit",{_choice:["banana","apple","watermelon","orange","coconut","lemon"],_xspeed:0,_yspeed:0,init:function(){var n=Crafty.math.randomInt(0,5),r=this._choice[n],i=Crafty.math.randomInt(8,12),s=Crafty.math.randomInt(0,1);this.addComponent(r).origin("center");this.y=Crafty.viewport.height;this._yspeed=Crafty.math.randomInt(8,12);this.z=1;if(s){this.x=0;this._xspeed=Crafty.math.randomInt(3,5)}else{this.x=Crafty.viewport.width;this._xspeed=-1*Crafty.math.randomInt(3,5)}this.bind("EnterFrame",function(){this.rotation+=i;this.y-=this._yspeed;this.x+=this._xspeed;if(this._y>Crafty.viewport.height){this.destroy();if(!this.hit){t-=(n+1)*10;e.text("Score: "+t)}}});this.bind("MouseOver",function(){this.sprite(n,1);this.hit=!0;t+=(n+1)*10;e.text("Score: "+t);Crafty.e("2D, DOM, "+r).attr({z:0,x:this._x,y:this._y,alpha:.2}).sprite(n,2);this.unbind("MouseOver")})}});Crafty.e().bind("EnterFrame",function(e){var t=Crafty.math.randomInt(10,50);e.frame%t==0&&Crafty.e("2D, DOM, Fruit, Gravity, Mouse").gravity()})};